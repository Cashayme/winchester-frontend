import{J as on,K as er,g as B,L as tr,l as P,M as ha,N as ge,O as ya,Q as Vt,R as Vn,S as nr,T as Pe,j as o,U as ar,V as pn,W as _t,X as rr,m as Oe,Y as ba,Z as vt,k as X,$ as Ge,a0 as bt,a1 as Ut,r as R,a2 as ce,i as D,o as w,w as k,D as ee,P as pe,a3 as sr,a4 as or,a5 as ln,a6 as it,a7 as nn,a8 as ir,a9 as lr,aa as an,ab as Wn,ac as ur,b as q,ad as wa,ae as gn,af as vn,p as j,ag as Ze,ah as wt,ai as xa,aj as Ct,ak as _a,c as I,F as ye,x as Ae,al as Ca,am as dr,an as cr,ao as fr,ap as ft,aq as mr,ar as pr,as as hn,at as yn,au as Wt,av as be,aw as $e,ax as gr,ay as vr,az as hr,aA as yr,aB as Re,aC as br,aD as wr,aE as bn,d as N,t as F,a as d,s as kt,q as ze,n as ae,G as jn,aF as Nn,A as ka,aG as xr,B as Sa,f as qa,aH as $a,aI as Oa,aJ as ut,aK as _r,aL as Cr,aM as kr,h as jt,aN as Sr,aO as Bt,aP as qr,C as Hn,aQ as $r,aR as Kn,aS as Or,aT as Er,v as Pr,y as Ar,aU as Ir,aV as Dr}from"./A1J6G2CB.js";import{_ as Gt}from"./DDMoZ7-c.js";import{a as St,c as Mr,_ as Tr,b as Br}from"./DxgXooI1.js";function Fr(e,n,t){const a=e.findIndex(l=>on(l,n)),r=e.findIndex(l=>on(l,t));if(a===-1||r===-1)return[];const[s,i]=[a,r].sort((l,u)=>l-u);return e.slice(s,i+1)}const Lr=er(()=>{const e=P(new Map),n=P(),t=B(()=>{for(const i of e.value.values())if(i)return!0;return!1}),a=ha({scrollBody:P(!0)});let r=null;const s=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=n.value??"",Vn&&(r==null||r()),n.value=void 0};return ge(t,(i,l)=>{var f;if(!ya)return;if(!i){l&&s();return}n.value===void 0&&(n.value=document.body.style.overflow);const u=window.innerWidth-document.documentElement.clientWidth,m={padding:u,margin:0},c=(f=a.scrollBody)!=null&&f.value?typeof a.scrollBody.value=="object"?Vt({padding:a.scrollBody.value.padding===!0?u:a.scrollBody.value.padding,margin:a.scrollBody.value.margin===!0?u:a.scrollBody.value.margin},m):m:{padding:0,margin:0};u>0&&(document.body.style.paddingRight=typeof c.padding=="number"?`${c.padding}px`:String(c.padding),document.body.style.marginRight=typeof c.margin=="number"?`${c.margin}px`:String(c.margin),document.documentElement.style.setProperty("--scrollbar-width",`${u}px`),document.body.style.overflow="hidden"),Vn&&(r=nr(document,"touchmove",g=>Rr(g),{passive:!1})),Pe(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),e});function Ea(e){const n=Math.random().toString(36).substring(2,7),t=Lr();t.value.set(n,e??!1);const a=B({get:()=>t.value.get(n)??!1,set:r=>t.value.set(n,r)});return tr(()=>{t.value.delete(n)}),a}function Pa(e){const n=window.getComputedStyle(e);if(n.overflowX==="scroll"||n.overflowY==="scroll"||n.overflowX==="auto"&&e.clientWidth<e.scrollWidth||n.overflowY==="auto"&&e.clientHeight<e.scrollHeight)return!0;{const t=e.parentNode;return!(t instanceof Element)||t.tagName==="BODY"?!1:Pa(t)}}function Rr(e){const n=e||window.event,t=n.target;return t instanceof Element&&Pa(t)?!1:n.touches.length>1?!0:(n.preventDefault&&n.cancelable&&n.preventDefault(),!1)}function Aa(e){const n=ha({dir:P("ltr")});return B(()=>{var t;return(e==null?void 0:e.value)||((t=n.dir)==null?void 0:t.value)||"ltr"})}function Ia(e){const n=B(()=>o(e)),t=B(()=>new Intl.Collator("en",{usage:"search",...n.value}));return{startsWith:(i,l)=>l.length===0?!0:(i=i.normalize("NFC"),l=l.normalize("NFC"),t.value.compare(i.slice(0,l.length),l)===0),endsWith:(i,l)=>l.length===0?!0:(i=i.normalize("NFC"),l=l.normalize("NFC"),t.value.compare(i.slice(-l.length),l)===0),contains:(i,l)=>{if(l.length===0)return!0;i=i.normalize("NFC"),l=l.normalize("NFC");let u=0;const m=l.length;for(;u+m<=i.length;u++){const c=i.slice(u,u+m);if(t.value.compare(l,c)===0)return!0}return!1}}}function zr(e){return B(()=>{var n;return ar(e)?!!((n=pn(e))!=null&&n.closest("form")):!0})}var Vr=function(e){if(typeof document>"u")return null;var n=Array.isArray(e)?e[0]:e;return n.ownerDocument.body},mt=new WeakMap,Ft=new WeakMap,Lt={},rn=0,Da=function(e){return e&&(e.host||Da(e.parentNode))},Wr=function(e,n){return n.map(function(t){if(e.contains(t))return t;var a=Da(t);return a&&e.contains(a)?a:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)}).filter(function(t){return!!t})},jr=function(e,n,t,a){var r=Wr(n,Array.isArray(e)?e:[e]);Lt[t]||(Lt[t]=new WeakMap);var s=Lt[t],i=[],l=new Set,u=new Set(r),m=function(f){!f||l.has(f)||(l.add(f),m(f.parentNode))};r.forEach(m);var c=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))c(g);else try{var b=g.getAttribute(a),h=b!==null&&b!=="false",_=(mt.get(g)||0)+1,C=(s.get(g)||0)+1;mt.set(g,_),s.set(g,C),i.push(g),_===1&&h&&Ft.set(g,!0),C===1&&g.setAttribute(t,"true"),h||g.setAttribute(a,"true")}catch(x){console.error("aria-hidden: cannot operate on ",g,x)}})};return c(n),l.clear(),rn++,function(){i.forEach(function(f){var g=mt.get(f)-1,b=s.get(f)-1;mt.set(f,g),s.set(f,b),g||(Ft.has(f)||f.removeAttribute(a),Ft.delete(f)),b||f.removeAttribute(t)}),rn--,rn||(mt=new WeakMap,mt=new WeakMap,Ft=new WeakMap,Lt={})}},Nr=function(e,n,t){t===void 0&&(t="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),r=Vr(e);return r?(a.push.apply(a,Array.from(r.querySelectorAll("[aria-live], script"))),jr(a,r,t,"aria-hidden")):function(){return null}};function Ma(e){let n;ge(()=>pn(e),t=>{t?n=Nr(t):n&&n()}),_t(()=>{n&&n()})}function Ke(e,n="reka"){var t;return`${n}-${(t=rr)==null?void 0:t()}`}function Hr(){return{ALT:"Alt",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",CAPS_LOCK:"CapsLock",CONTROL:"Control",DELETE:"Delete",END:"End",ENTER:"Enter",ESCAPE:"Escape",F1:"F1",F10:"F10",F11:"F11",F12:"F12",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",HOME:"Home",META:"Meta",PAGE_DOWN:"PageDown",PAGE_UP:"PageUp",SHIFT:"Shift",SPACE:" ",TAB:"Tab",CTRL:"Control",ASTERISK:"*",SPACE_CODE:"Space"}}function Kr(e){const n=P(),t=B(()=>{var r;return((r=n.value)==null?void 0:r.width)??0}),a=B(()=>{var r;return((r=n.value)==null?void 0:r.height)??0});return Oe(()=>{const r=pn(e);if(r){n.value={width:r.offsetWidth,height:r.offsetHeight};const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const l=i[0];let u,m;if("borderBoxSize"in l){const c=l.borderBoxSize,f=Array.isArray(c)?c[0]:c;u=f.inlineSize,m=f.blockSize}else u=r.offsetWidth,m=r.offsetHeight;n.value={width:u,height:m}});return s.observe(r,{box:"border-box"}),()=>s.unobserve(r)}else n.value=void 0}),{width:t,height:a}}function Yr(e){const n=ba("",1e3);return{search:n,handleTypeaheadSearch:(r,s)=>{n.value=n.value+r;{const i=vt(),l=s.map(g=>{var b,h;return{...g,textValue:((b=g.value)==null?void 0:b.textValue)??((h=g.ref.textContent)==null?void 0:h.trim())??""}}),u=l.find(g=>g.ref===i),m=l.map(g=>g.textValue),c=Gr(m,n.value,u==null?void 0:u.textValue),f=l.find(g=>g.textValue===c);return f&&f.ref.focus(),f==null?void 0:f.ref}},resetTypeahead:()=>{n.value=""}}}function Ur(e,n){return e.map((t,a)=>e[(n+a)%e.length])}function Gr(e,n,t){const r=n.length>1&&Array.from(n).every(m=>m===n[0])?n[0]:n,s=t?e.indexOf(t):-1;let i=Ur(e,Math.max(s,0));r.length===1&&(i=i.filter(m=>m!==t));const u=i.find(m=>m.toLowerCase().startsWith(r.toLowerCase()));return u!==t?u:void 0}const[Ne,Qr]=Ge("DialogRoot");var Xr=X({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:n}){const t=e,r=bt(t,"open",n,{defaultValue:t.defaultOpen,passive:t.open===void 0}),s=P(),i=P(),{modal:l}=Ut(t);return Qr({open:r,modal:l,openModal:()=>{r.value=!0},onOpenChange:u=>{r.value=u},onOpenToggle:()=>{r.value=!r.value},contentId:"",titleId:"",descriptionId:"",triggerElement:s,contentElement:i}),(u,m)=>R(u.$slots,"default",{open:o(r),close:()=>r.value=!1})}}),Jr=Xr,Zr=X({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e;ce();const t=Ne();return(a,r)=>(w(),D(o(pe),ee(n,{type:a.as==="button"?"button":void 0,onClick:r[0]||(r[0]=s=>o(t).onOpenChange(!1))}),{default:k(()=>[R(a.$slots,"default")]),_:3},16,["type"]))}}),es=Zr;const ts=sr(()=>P([]));function ns(){const e=ts();return{add(n){const t=e.value[0];n!==t&&(t==null||t.pause()),e.value=Yn(e.value,n),e.value.unshift(n)},remove(n){var t;e.value=Yn(e.value,n),(t=e.value[0])==null||t.resume()}}}function Yn(e,n){const t=[...e],a=t.indexOf(n);return a!==-1&&t.splice(a,1),t}function as(e){return e.filter(n=>n.tagName!=="A")}var rs=X({__name:"FocusScope",props:{loop:{type:Boolean,required:!1,default:!1},trapped:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["mountAutoFocus","unmountAutoFocus"],setup(e,{emit:n}){const t=e,a=n,{currentRef:r,currentElement:s}=ce(),i=P(null),l=ns(),u=or({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});ln(c=>{if(!ya)return;const f=s.value;if(!t.trapped)return;function g(C){if(u.paused||!f)return;const x=C.target;f.contains(x)?i.value=x:it(i.value,{select:!0})}function b(C){if(u.paused||!f)return;const x=C.relatedTarget;x!==null&&(f.contains(x)||it(i.value,{select:!0}))}function h(C){f.contains(i.value)||it(f)}document.addEventListener("focusin",g),document.addEventListener("focusout",b);const _=new MutationObserver(h);f&&_.observe(f,{childList:!0,subtree:!0}),c(()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",b),_.disconnect()})}),ln(async c=>{const f=s.value;if(await Pe(),!f)return;l.add(u);const g=vt();if(!f.contains(g)){const h=new CustomEvent(nn,Wn);f.addEventListener(nn,_=>a("mountAutoFocus",_)),f.dispatchEvent(h),h.defaultPrevented||(ir(as(lr(f)),{select:!0}),vt()===g&&it(f))}c(()=>{f.removeEventListener(nn,C=>a("mountAutoFocus",C));const h=new CustomEvent(an,Wn),_=C=>{a("unmountAutoFocus",C)};f.addEventListener(an,_),f.dispatchEvent(h),setTimeout(()=>{h.defaultPrevented||it(g??document.body,{select:!0}),f.removeEventListener(an,_),l.remove(u)},0)})});function m(c){if(!t.loop&&!t.trapped||u.paused)return;const f=c.key==="Tab"&&!c.altKey&&!c.ctrlKey&&!c.metaKey,g=vt();if(f&&g){const b=c.currentTarget,[h,_]=ur(b);h&&_?!c.shiftKey&&g===_?(c.preventDefault(),t.loop&&it(h,{select:!0})):c.shiftKey&&g===h&&(c.preventDefault(),t.loop&&it(_,{select:!0})):g===b&&c.preventDefault()}}return(c,f)=>(w(),D(o(pe),{ref_key:"currentRef",ref:r,tabindex:"-1","as-child":c.asChild,as:c.as,onKeydown:m},{default:k(()=>[R(c.$slots,"default")]),_:3},8,["as-child","as"]))}}),Ta=rs;function ss(e){return e?"open":"closed"}var os=X({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,a=n,r=Ne(),{forwardRef:s,currentElement:i}=ce();return r.titleId||(r.titleId=Ke(void 0,"reka-dialog-title")),r.descriptionId||(r.descriptionId=Ke(void 0,"reka-dialog-description")),Oe(()=>{r.contentElement=i,vt()!==document.body&&(r.triggerElement.value=vt())}),(l,u)=>(w(),D(o(Ta),{"as-child":"",loop:"",trapped:t.trapFocus,onMountAutoFocus:u[5]||(u[5]=m=>a("openAutoFocus",m)),onUnmountAutoFocus:u[6]||(u[6]=m=>a("closeAutoFocus",m))},{default:k(()=>[q(o(wa),ee({id:o(r).contentId,ref:o(s),as:l.as,"as-child":l.asChild,"disable-outside-pointer-events":l.disableOutsidePointerEvents,role:"dialog","aria-describedby":o(r).descriptionId,"aria-labelledby":o(r).titleId,"data-state":o(ss)(o(r).open.value)},l.$attrs,{onDismiss:u[0]||(u[0]=m=>o(r).onOpenChange(!1)),onEscapeKeyDown:u[1]||(u[1]=m=>a("escapeKeyDown",m)),onFocusOutside:u[2]||(u[2]=m=>a("focusOutside",m)),onInteractOutside:u[3]||(u[3]=m=>a("interactOutside",m)),onPointerDownOutside:u[4]||(u[4]=m=>a("pointerDownOutside",m))}),{default:k(()=>[R(l.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),Ba=os,is=X({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,a=n,r=Ne(),s=gn(a),{forwardRef:i,currentElement:l}=ce();return Ma(l),(u,m)=>(w(),D(Ba,ee({...t,...o(s)},{ref:o(i),"trap-focus":o(r).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:m[0]||(m[0]=c=>{var f;c.defaultPrevented||(c.preventDefault(),(f=o(r).triggerElement.value)==null||f.focus())}),onPointerDownOutside:m[1]||(m[1]=c=>{const f=c.detail.originalEvent,g=f.button===0&&f.ctrlKey===!0;(f.button===2||g)&&c.preventDefault()}),onFocusOutside:m[2]||(m[2]=c=>{c.preventDefault()})}),{default:k(()=>[R(u.$slots,"default")]),_:3},16,["trap-focus"]))}}),ls=is,us=X({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,r=gn(n);ce();const s=Ne(),i=P(!1),l=P(!1);return(u,m)=>(w(),D(Ba,ee({...t,...o(r)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:m[0]||(m[0]=c=>{var f;c.defaultPrevented||(i.value||(f=o(s).triggerElement.value)==null||f.focus(),c.preventDefault()),i.value=!1,l.value=!1}),onInteractOutside:m[1]||(m[1]=c=>{var b;c.defaultPrevented||(i.value=!0,c.detail.originalEvent.type==="pointerdown"&&(l.value=!0));const f=c.target;((b=o(s).triggerElement.value)==null?void 0:b.contains(f))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&l.value&&c.preventDefault()})}),{default:k(()=>[R(u.$slots,"default")]),_:3},16))}}),ds=us,cs=X({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const t=e,a=n,r=Ne(),s=gn(a),{forwardRef:i}=ce();return(l,u)=>(w(),D(o(vn),{present:l.forceMount||o(r).open.value},{default:k(()=>[o(r).modal.value?(w(),D(ls,ee({key:0,ref:o(i)},{...t,...o(s),...l.$attrs}),{default:k(()=>[R(l.$slots,"default")]),_:3},16)):(w(),D(ds,ee({key:1,ref:o(i)},{...t,...o(s),...l.$attrs}),{default:k(()=>[R(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),fs=cs,ms=X({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(e){const n=e;ce();const t=Ne();return(a,r)=>(w(),D(o(pe),ee(n,{id:o(t).descriptionId}),{default:k(()=>[R(a.$slots,"default")]),_:3},16,["id"]))}}),Un=ms,ps=X({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=Ne();return Ea(!0),ce(),(t,a)=>(w(),D(o(pe),{as:t.as,"as-child":t.asChild,"data-state":o(n).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:k(()=>[R(t.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),gs=ps,vs=X({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=Ne(),{forwardRef:t}=ce();return(a,r)=>{var s;return(s=o(n))!=null&&s.modal.value?(w(),D(o(vn),{key:0,present:a.forceMount||o(n).open.value},{default:k(()=>[q(gs,ee(a.$attrs,{ref:o(t),as:a.as,"as-child":a.asChild}),{default:k(()=>[R(a.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):j("v-if",!0)}}}),hs=vs,ys=X({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=e;return(t,a)=>(w(),D(o(xa),Ze(wt(n)),{default:k(()=>[R(t.$slots,"default")]),_:3},16))}}),bs=ys,ws=X({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(e){const n=e,t=Ne();return ce(),(a,r)=>(w(),D(o(pe),ee(n,{id:o(t).titleId}),{default:k(()=>[R(a.$slots,"default")]),_:3},16,["id"]))}}),Gn=ws,xs=X({__name:"DialogTrigger",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,t=Ne(),{forwardRef:a,currentElement:r}=ce();return t.contentId||(t.contentId=Ke(void 0,"reka-dialog-content")),Oe(()=>{t.triggerElement.value=r.value}),(s,i)=>(w(),D(o(pe),ee(n,{ref:o(a),type:s.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":o(t).open.value||!1,"aria-controls":o(t).open.value?o(t).contentId:void 0,"data-state":o(t).open.value?"open":"closed",onClick:o(t).onOpenToggle}),{default:k(()=>[R(s.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","onClick"]))}}),_s=xs;const Cs={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ks(e,n){return n!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Ss(e,n,t){const a=ks(e.key,t);if(!(n==="vertical"&&["ArrowLeft","ArrowRight"].includes(a))&&!(n==="horizontal"&&["ArrowUp","ArrowDown"].includes(a)))return Cs[a]}var qs=X({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(e){const n=e,{primitiveElement:t,currentElement:a}=Ct(),r=B(()=>n.checked??n.value);return ge(r,(s,i)=>{if(!a.value)return;const l=a.value,u=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(u,"value").set;if(c&&s!==i){const f=new Event("input",{bubbles:!0}),g=new Event("change",{bubbles:!0});c.call(l,s),l.dispatchEvent(f),l.dispatchEvent(g)}}),(s,i)=>(w(),D(_a,ee({ref_key:"primitiveElement",ref:t},{...n,...s.$attrs},{as:"input"}),null,16))}}),Qn=qs,$s=X({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(e){const n=e,t=B(()=>typeof n.value=="object"&&Array.isArray(n.value)&&n.value.length===0&&n.required),a=B(()=>typeof n.value=="string"||typeof n.value=="number"||typeof n.value=="boolean"||n.value===null||n.value===void 0?[{name:n.name,value:n.value}]:typeof n.value=="object"&&Array.isArray(n.value)?n.value.flatMap((r,s)=>typeof r=="object"?Object.entries(r).map(([i,l])=>({name:`${n.name}[${s}][${i}]`,value:l})):{name:`${n.name}[${s}]`,value:r}):n.value!==null&&typeof n.value=="object"&&!Array.isArray(n.value)?Object.entries(n.value).map(([r,s])=>({name:`${n.name}[${r}]`,value:s})):[]);return(r,s)=>(w(),I(ye,null,[j(" We render single input if it's required "),t.value?(w(),D(Qn,ee({key:r.name},{...n,...r.$attrs},{name:r.name,value:r.value}),null,16,["name","value"])):(w(!0),I(ye,{key:1},Ae(a.value,i=>(w(),D(Qn,ee({key:i.name},{ref_for:!0},{...n,...r.$attrs},{name:i.name,value:i.value}),null,16,["name","value"]))),128))],2112))}}),Os=$s;const[Fa,Es]=Ge("PopperRoot");var Ps=X({inheritAttrs:!1,__name:"PopperRoot",setup(e){const n=P();return Es({anchor:n,onAnchorChange:t=>n.value=t}),(t,a)=>R(t.$slots,"default")}}),As=Ps,Is=X({__name:"PopperAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e,{forwardRef:t,currentElement:a}=ce(),r=Fa();return Ca(()=>{r.onAnchorChange(n.reference??a.value)}),(s,i)=>(w(),D(o(pe),{ref:o(t),as:s.as,"as-child":s.asChild},{default:k(()=>[R(s.$slots,"default")]),_:3},8,["as","as-child"]))}}),Ds=Is;const Ms={key:0,d:"M0 0L6 6L12 0"},Ts={key:1,d:"M0 0L4.58579 4.58579C5.36683 5.36683 6.63316 5.36684 7.41421 4.58579L12 0"};var Bs=X({__name:"Arrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const n=e;return ce(),(t,a)=>(w(),D(o(pe),ee(n,{width:t.width,height:t.height,viewBox:t.asChild?void 0:"0 0 12 6",preserveAspectRatio:t.asChild?void 0:"none"}),{default:k(()=>[R(t.$slots,"default",{},()=>[t.rounded?(w(),I("path",Ts)):(w(),I("path",Ms))])]),_:3},16,["width","height","viewBox","preserveAspectRatio"]))}}),Fs=Bs;function Ls(e){return e!==null}function Rs(e){return{name:"transformOrigin",options:e,fn(n){var C,x,p;const{placement:t,rects:a,middlewareData:r}=n,i=((C=r.arrow)==null?void 0:C.centerOffset)!==0,l=i?0:e.arrowWidth,u=i?0:e.arrowHeight,[m,c]=un(t),f={start:"0%",center:"50%",end:"100%"}[c],g=(((x=r.arrow)==null?void 0:x.x)??0)+l/2,b=(((p=r.arrow)==null?void 0:p.y)??0)+u/2;let h="",_="";return m==="bottom"?(h=i?f:`${g}px`,_=`${-u}px`):m==="top"?(h=i?f:`${g}px`,_=`${a.floating.height+u}px`):m==="right"?(h=`${-u}px`,_=i?f:`${b}px`):m==="left"&&(h=`${a.floating.width+u}px`,_=i?f:`${b}px`),{data:{x:h,y:_}}}}}function un(e){const[n,t="center"]=e.split("-");return[n,t]}const zs=["top","right","bottom","left"],et=Math.min,we=Math.max,Nt=Math.round,Rt=Math.floor,We=e=>({x:e,y:e}),Vs={left:"right",right:"left",bottom:"top",top:"bottom"},Ws={start:"end",end:"start"};function dn(e,n,t){return we(e,et(n,t))}function Ye(e,n){return typeof e=="function"?e(n):e}function Ue(e){return e.split("-")[0]}function qt(e){return e.split("-")[1]}function wn(e){return e==="x"?"y":"x"}function xn(e){return e==="y"?"height":"width"}const js=new Set(["top","bottom"]);function Ve(e){return js.has(Ue(e))?"y":"x"}function _n(e){return wn(Ve(e))}function Ns(e,n,t){t===void 0&&(t=!1);const a=qt(e),r=_n(e),s=xn(r);let i=r==="x"?a===(t?"end":"start")?"right":"left":a==="start"?"bottom":"top";return n.reference[s]>n.floating[s]&&(i=Ht(i)),[i,Ht(i)]}function Hs(e){const n=Ht(e);return[cn(e),n,cn(n)]}function cn(e){return e.replace(/start|end/g,n=>Ws[n])}const Xn=["left","right"],Jn=["right","left"],Ks=["top","bottom"],Ys=["bottom","top"];function Us(e,n,t){switch(e){case"top":case"bottom":return t?n?Jn:Xn:n?Xn:Jn;case"left":case"right":return n?Ks:Ys;default:return[]}}function Gs(e,n,t,a){const r=qt(e);let s=Us(Ue(e),t==="start",a);return r&&(s=s.map(i=>i+"-"+r),n&&(s=s.concat(s.map(cn)))),s}function Ht(e){return e.replace(/left|right|bottom|top/g,n=>Vs[n])}function Qs(e){return{top:0,right:0,bottom:0,left:0,...e}}function La(e){return typeof e!="number"?Qs(e):{top:e,right:e,bottom:e,left:e}}function Kt(e){const{x:n,y:t,width:a,height:r}=e;return{width:a,height:r,top:t,left:n,right:n+a,bottom:t+r,x:n,y:t}}function Zn(e,n,t){let{reference:a,floating:r}=e;const s=Ve(n),i=_n(n),l=xn(i),u=Ue(n),m=s==="y",c=a.x+a.width/2-r.width/2,f=a.y+a.height/2-r.height/2,g=a[l]/2-r[l]/2;let b;switch(u){case"top":b={x:c,y:a.y-r.height};break;case"bottom":b={x:c,y:a.y+a.height};break;case"right":b={x:a.x+a.width,y:f};break;case"left":b={x:a.x-r.width,y:f};break;default:b={x:a.x,y:a.y}}switch(qt(n)){case"start":b[i]-=g*(t&&m?-1:1);break;case"end":b[i]+=g*(t&&m?-1:1);break}return b}const Xs=async(e,n,t)=>{const{placement:a="bottom",strategy:r="absolute",middleware:s=[],platform:i}=t,l=s.filter(Boolean),u=await(i.isRTL==null?void 0:i.isRTL(n));let m=await i.getElementRects({reference:e,floating:n,strategy:r}),{x:c,y:f}=Zn(m,a,u),g=a,b={},h=0;for(let _=0;_<l.length;_++){const{name:C,fn:x}=l[_],{x:p,y,data:T,reset:S}=await x({x:c,y:f,initialPlacement:a,placement:g,strategy:r,middlewareData:b,rects:m,platform:i,elements:{reference:e,floating:n}});c=p??c,f=y??f,b={...b,[C]:{...b[C],...T}},S&&h<=50&&(h++,typeof S=="object"&&(S.placement&&(g=S.placement),S.rects&&(m=S.rects===!0?await i.getElementRects({reference:e,floating:n,strategy:r}):S.rects),{x:c,y:f}=Zn(m,g,u)),_=-1)}return{x:c,y:f,placement:g,strategy:r,middlewareData:b}};async function Pt(e,n){var t;n===void 0&&(n={});const{x:a,y:r,platform:s,rects:i,elements:l,strategy:u}=e,{boundary:m="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:g=!1,padding:b=0}=Ye(n,e),h=La(b),C=l[g?f==="floating"?"reference":"floating":f],x=Kt(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(C)))==null||t?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:m,rootBoundary:c,strategy:u})),p=f==="floating"?{x:a,y:r,width:i.floating.width,height:i.floating.height}:i.reference,y=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),T=await(s.isElement==null?void 0:s.isElement(y))?await(s.getScale==null?void 0:s.getScale(y))||{x:1,y:1}:{x:1,y:1},S=Kt(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:y,strategy:u}):p);return{top:(x.top-S.top+h.top)/T.y,bottom:(S.bottom-x.bottom+h.bottom)/T.y,left:(x.left-S.left+h.left)/T.x,right:(S.right-x.right+h.right)/T.x}}const Js=e=>({name:"arrow",options:e,async fn(n){const{x:t,y:a,placement:r,rects:s,platform:i,elements:l,middlewareData:u}=n,{element:m,padding:c=0}=Ye(e,n)||{};if(m==null)return{};const f=La(c),g={x:t,y:a},b=_n(r),h=xn(b),_=await i.getDimensions(m),C=b==="y",x=C?"top":"left",p=C?"bottom":"right",y=C?"clientHeight":"clientWidth",T=s.reference[h]+s.reference[b]-g[b]-s.floating[h],S=g[b]-s.reference[b],O=await(i.getOffsetParent==null?void 0:i.getOffsetParent(m));let v=O?O[y]:0;(!v||!await(i.isElement==null?void 0:i.isElement(O)))&&(v=l.floating[y]||s.floating[h]);const V=T/2-S/2,G=v/2-_[h]/2-1,M=et(f[x],G),A=et(f[p],G),Y=M,se=v-_[h]-A,U=v/2-_[h]/2+V,re=dn(Y,U,se),de=!u.arrow&&qt(r)!=null&&U!==re&&s.reference[h]/2-(U<Y?M:A)-_[h]/2<0,Q=de?U<Y?U-Y:U-se:0;return{[b]:g[b]+Q,data:{[b]:re,centerOffset:U-re-Q,...de&&{alignmentOffset:Q}},reset:de}}}),Zs=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(n){var t,a;const{placement:r,middlewareData:s,rects:i,initialPlacement:l,platform:u,elements:m}=n,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:_=!0,...C}=Ye(e,n);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const x=Ue(r),p=Ve(l),y=Ue(l)===l,T=await(u.isRTL==null?void 0:u.isRTL(m.floating)),S=g||(y||!_?[Ht(l)]:Hs(l)),O=h!=="none";!g&&O&&S.push(...Gs(l,_,h,T));const v=[l,...S],V=await Pt(n,C),G=[];let M=((a=s.flip)==null?void 0:a.overflows)||[];if(c&&G.push(V[x]),f){const U=Ns(r,i,T);G.push(V[U[0]],V[U[1]])}if(M=[...M,{placement:r,overflows:G}],!G.every(U=>U<=0)){var A,Y;const U=(((A=s.flip)==null?void 0:A.index)||0)+1,re=v[U];if(re&&(!(f==="alignment"?p!==Ve(re):!1)||M.every(te=>Ve(te.placement)===p?te.overflows[0]>0:!0)))return{data:{index:U,overflows:M},reset:{placement:re}};let de=(Y=M.filter(Q=>Q.overflows[0]<=0).sort((Q,te)=>Q.overflows[1]-te.overflows[1])[0])==null?void 0:Y.placement;if(!de)switch(b){case"bestFit":{var se;const Q=(se=M.filter(te=>{if(O){const z=Ve(te.placement);return z===p||z==="y"}return!0}).map(te=>[te.placement,te.overflows.filter(z=>z>0).reduce((z,Te)=>z+Te,0)]).sort((te,z)=>te[1]-z[1])[0])==null?void 0:se[0];Q&&(de=Q);break}case"initialPlacement":de=l;break}if(r!==de)return{reset:{placement:de}}}return{}}}};function ea(e,n){return{top:e.top-n.height,right:e.right-n.width,bottom:e.bottom-n.height,left:e.left-n.width}}function ta(e){return zs.some(n=>e[n]>=0)}const eo=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(n){const{rects:t}=n,{strategy:a="referenceHidden",...r}=Ye(e,n);switch(a){case"referenceHidden":{const s=await Pt(n,{...r,elementContext:"reference"}),i=ea(s,t.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:ta(i)}}}case"escaped":{const s=await Pt(n,{...r,altBoundary:!0}),i=ea(s,t.floating);return{data:{escapedOffsets:i,escaped:ta(i)}}}default:return{}}}}},Ra=new Set(["left","top"]);async function to(e,n){const{placement:t,platform:a,elements:r}=e,s=await(a.isRTL==null?void 0:a.isRTL(r.floating)),i=Ue(t),l=qt(t),u=Ve(t)==="y",m=Ra.has(i)?-1:1,c=s&&u?-1:1,f=Ye(n,e);let{mainAxis:g,crossAxis:b,alignmentAxis:h}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof h=="number"&&(b=l==="end"?h*-1:h),u?{x:b*c,y:g*m}:{x:g*m,y:b*c}}const no=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(n){var t,a;const{x:r,y:s,placement:i,middlewareData:l}=n,u=await to(n,e);return i===((t=l.offset)==null?void 0:t.placement)&&(a=l.arrow)!=null&&a.alignmentOffset?{}:{x:r+u.x,y:s+u.y,data:{...u,placement:i}}}}},ao=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(n){const{x:t,y:a,placement:r}=n,{mainAxis:s=!0,crossAxis:i=!1,limiter:l={fn:C=>{let{x,y:p}=C;return{x,y:p}}},...u}=Ye(e,n),m={x:t,y:a},c=await Pt(n,u),f=Ve(Ue(r)),g=wn(f);let b=m[g],h=m[f];if(s){const C=g==="y"?"top":"left",x=g==="y"?"bottom":"right",p=b+c[C],y=b-c[x];b=dn(p,b,y)}if(i){const C=f==="y"?"top":"left",x=f==="y"?"bottom":"right",p=h+c[C],y=h-c[x];h=dn(p,h,y)}const _=l.fn({...n,[g]:b,[f]:h});return{..._,data:{x:_.x-t,y:_.y-a,enabled:{[g]:s,[f]:i}}}}}},ro=function(e){return e===void 0&&(e={}),{options:e,fn(n){const{x:t,y:a,placement:r,rects:s,middlewareData:i}=n,{offset:l=0,mainAxis:u=!0,crossAxis:m=!0}=Ye(e,n),c={x:t,y:a},f=Ve(r),g=wn(f);let b=c[g],h=c[f];const _=Ye(l,n),C=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(u){const y=g==="y"?"height":"width",T=s.reference[g]-s.floating[y]+C.mainAxis,S=s.reference[g]+s.reference[y]-C.mainAxis;b<T?b=T:b>S&&(b=S)}if(m){var x,p;const y=g==="y"?"width":"height",T=Ra.has(Ue(r)),S=s.reference[f]-s.floating[y]+(T&&((x=i.offset)==null?void 0:x[f])||0)+(T?0:C.crossAxis),O=s.reference[f]+s.reference[y]+(T?0:((p=i.offset)==null?void 0:p[f])||0)-(T?C.crossAxis:0);h<S?h=S:h>O&&(h=O)}return{[g]:b,[f]:h}}}},so=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(n){var t,a;const{placement:r,rects:s,platform:i,elements:l}=n,{apply:u=()=>{},...m}=Ye(e,n),c=await Pt(n,m),f=Ue(r),g=qt(r),b=Ve(r)==="y",{width:h,height:_}=s.floating;let C,x;f==="top"||f==="bottom"?(C=f,x=g===(await(i.isRTL==null?void 0:i.isRTL(l.floating))?"start":"end")?"left":"right"):(x=f,C=g==="end"?"top":"bottom");const p=_-c.top-c.bottom,y=h-c.left-c.right,T=et(_-c[C],p),S=et(h-c[x],y),O=!n.middlewareData.shift;let v=T,V=S;if((t=n.middlewareData.shift)!=null&&t.enabled.x&&(V=y),(a=n.middlewareData.shift)!=null&&a.enabled.y&&(v=p),O&&!g){const M=we(c.left,0),A=we(c.right,0),Y=we(c.top,0),se=we(c.bottom,0);b?V=h-2*(M!==0||A!==0?M+A:we(c.left,c.right)):v=_-2*(Y!==0||se!==0?Y+se:we(c.top,c.bottom))}await u({...n,availableWidth:V,availableHeight:v});const G=await i.getDimensions(l.floating);return h!==G.width||_!==G.height?{reset:{rects:!0}}:{}}}};function Qt(){return typeof window<"u"}function ct(e){return Cn(e)?(e.nodeName||"").toLowerCase():"#document"}function xe(e){var n;return(e==null||(n=e.ownerDocument)==null?void 0:n.defaultView)||window}function He(e){var n;return(n=(Cn(e)?e.ownerDocument:e.document)||window.document)==null?void 0:n.documentElement}function Cn(e){return Qt()?e instanceof Node||e instanceof xe(e).Node:!1}function Ie(e){return Qt()?e instanceof Element||e instanceof xe(e).Element:!1}function je(e){return Qt()?e instanceof HTMLElement||e instanceof xe(e).HTMLElement:!1}function na(e){return!Qt()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof xe(e).ShadowRoot}const oo=new Set(["inline","contents"]);function Dt(e){const{overflow:n,overflowX:t,overflowY:a,display:r}=De(e);return/auto|scroll|overlay|hidden|clip/.test(n+a+t)&&!oo.has(r)}const io=new Set(["table","td","th"]);function lo(e){return io.has(ct(e))}const uo=[":popover-open",":modal"];function Xt(e){return uo.some(n=>{try{return e.matches(n)}catch{return!1}})}const co=["transform","translate","scale","rotate","perspective"],fo=["transform","translate","scale","rotate","perspective","filter"],mo=["paint","layout","strict","content"];function kn(e){const n=Sn(),t=Ie(e)?De(e):e;return co.some(a=>t[a]?t[a]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!n&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!n&&(t.filter?t.filter!=="none":!1)||fo.some(a=>(t.willChange||"").includes(a))||mo.some(a=>(t.contain||"").includes(a))}function po(e){let n=tt(e);for(;je(n)&&!xt(n);){if(kn(n))return n;if(Xt(n))return null;n=tt(n)}return null}function Sn(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const go=new Set(["html","body","#document"]);function xt(e){return go.has(ct(e))}function De(e){return xe(e).getComputedStyle(e)}function Jt(e){return Ie(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function tt(e){if(ct(e)==="html")return e;const n=e.assignedSlot||e.parentNode||na(e)&&e.host||He(e);return na(n)?n.host:n}function za(e){const n=tt(e);return xt(n)?e.ownerDocument?e.ownerDocument.body:e.body:je(n)&&Dt(n)?n:za(n)}function At(e,n,t){var a;n===void 0&&(n=[]),t===void 0&&(t=!0);const r=za(e),s=r===((a=e.ownerDocument)==null?void 0:a.body),i=xe(r);if(s){const l=fn(i);return n.concat(i,i.visualViewport||[],Dt(r)?r:[],l&&t?At(l):[])}return n.concat(r,At(r,[],t))}function fn(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Va(e){const n=De(e);let t=parseFloat(n.width)||0,a=parseFloat(n.height)||0;const r=je(e),s=r?e.offsetWidth:t,i=r?e.offsetHeight:a,l=Nt(t)!==s||Nt(a)!==i;return l&&(t=s,a=i),{width:t,height:a,$:l}}function qn(e){return Ie(e)?e:e.contextElement}function ht(e){const n=qn(e);if(!je(n))return We(1);const t=n.getBoundingClientRect(),{width:a,height:r,$:s}=Va(n);let i=(s?Nt(t.width):t.width)/a,l=(s?Nt(t.height):t.height)/r;return(!i||!Number.isFinite(i))&&(i=1),(!l||!Number.isFinite(l))&&(l=1),{x:i,y:l}}const vo=We(0);function Wa(e){const n=xe(e);return!Sn()||!n.visualViewport?vo:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function ho(e,n,t){return n===void 0&&(n=!1),!t||n&&t!==xe(e)?!1:n}function dt(e,n,t,a){n===void 0&&(n=!1),t===void 0&&(t=!1);const r=e.getBoundingClientRect(),s=qn(e);let i=We(1);n&&(a?Ie(a)&&(i=ht(a)):i=ht(e));const l=ho(s,t,a)?Wa(s):We(0);let u=(r.left+l.x)/i.x,m=(r.top+l.y)/i.y,c=r.width/i.x,f=r.height/i.y;if(s){const g=xe(s),b=a&&Ie(a)?xe(a):a;let h=g,_=fn(h);for(;_&&a&&b!==h;){const C=ht(_),x=_.getBoundingClientRect(),p=De(_),y=x.left+(_.clientLeft+parseFloat(p.paddingLeft))*C.x,T=x.top+(_.clientTop+parseFloat(p.paddingTop))*C.y;u*=C.x,m*=C.y,c*=C.x,f*=C.y,u+=y,m+=T,h=xe(_),_=fn(h)}}return Kt({width:c,height:f,x:u,y:m})}function Zt(e,n){const t=Jt(e).scrollLeft;return n?n.left+t:dt(He(e)).left+t}function ja(e,n){const t=e.getBoundingClientRect(),a=t.left+n.scrollLeft-Zt(e,t),r=t.top+n.scrollTop;return{x:a,y:r}}function yo(e){let{elements:n,rect:t,offsetParent:a,strategy:r}=e;const s=r==="fixed",i=He(a),l=n?Xt(n.floating):!1;if(a===i||l&&s)return t;let u={scrollLeft:0,scrollTop:0},m=We(1);const c=We(0),f=je(a);if((f||!f&&!s)&&((ct(a)!=="body"||Dt(i))&&(u=Jt(a)),je(a))){const b=dt(a);m=ht(a),c.x=b.x+a.clientLeft,c.y=b.y+a.clientTop}const g=i&&!f&&!s?ja(i,u):We(0);return{width:t.width*m.x,height:t.height*m.y,x:t.x*m.x-u.scrollLeft*m.x+c.x+g.x,y:t.y*m.y-u.scrollTop*m.y+c.y+g.y}}function bo(e){return Array.from(e.getClientRects())}function wo(e){const n=He(e),t=Jt(e),a=e.ownerDocument.body,r=we(n.scrollWidth,n.clientWidth,a.scrollWidth,a.clientWidth),s=we(n.scrollHeight,n.clientHeight,a.scrollHeight,a.clientHeight);let i=-t.scrollLeft+Zt(e);const l=-t.scrollTop;return De(a).direction==="rtl"&&(i+=we(n.clientWidth,a.clientWidth)-r),{width:r,height:s,x:i,y:l}}const aa=25;function xo(e,n){const t=xe(e),a=He(e),r=t.visualViewport;let s=a.clientWidth,i=a.clientHeight,l=0,u=0;if(r){s=r.width,i=r.height;const c=Sn();(!c||c&&n==="fixed")&&(l=r.offsetLeft,u=r.offsetTop)}const m=Zt(a);if(m<=0){const c=a.ownerDocument,f=c.body,g=getComputedStyle(f),b=c.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,h=Math.abs(a.clientWidth-f.clientWidth-b);h<=aa&&(s-=h)}else m<=aa&&(s+=m);return{width:s,height:i,x:l,y:u}}const _o=new Set(["absolute","fixed"]);function Co(e,n){const t=dt(e,!0,n==="fixed"),a=t.top+e.clientTop,r=t.left+e.clientLeft,s=je(e)?ht(e):We(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y,u=r*s.x,m=a*s.y;return{width:i,height:l,x:u,y:m}}function ra(e,n,t){let a;if(n==="viewport")a=xo(e,t);else if(n==="document")a=wo(He(e));else if(Ie(n))a=Co(n,t);else{const r=Wa(e);a={x:n.x-r.x,y:n.y-r.y,width:n.width,height:n.height}}return Kt(a)}function Na(e,n){const t=tt(e);return t===n||!Ie(t)||xt(t)?!1:De(t).position==="fixed"||Na(t,n)}function ko(e,n){const t=n.get(e);if(t)return t;let a=At(e,[],!1).filter(l=>Ie(l)&&ct(l)!=="body"),r=null;const s=De(e).position==="fixed";let i=s?tt(e):e;for(;Ie(i)&&!xt(i);){const l=De(i),u=kn(i);!u&&l.position==="fixed"&&(r=null),(s?!u&&!r:!u&&l.position==="static"&&!!r&&_o.has(r.position)||Dt(i)&&!u&&Na(e,i))?a=a.filter(c=>c!==i):r=l,i=tt(i)}return n.set(e,a),a}function So(e){let{element:n,boundary:t,rootBoundary:a,strategy:r}=e;const i=[...t==="clippingAncestors"?Xt(n)?[]:ko(n,this._c):[].concat(t),a],l=i[0],u=i.reduce((m,c)=>{const f=ra(n,c,r);return m.top=we(f.top,m.top),m.right=et(f.right,m.right),m.bottom=et(f.bottom,m.bottom),m.left=we(f.left,m.left),m},ra(n,l,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function qo(e){const{width:n,height:t}=Va(e);return{width:n,height:t}}function $o(e,n,t){const a=je(n),r=He(n),s=t==="fixed",i=dt(e,!0,s,n);let l={scrollLeft:0,scrollTop:0};const u=We(0);function m(){u.x=Zt(r)}if(a||!a&&!s)if((ct(n)!=="body"||Dt(r))&&(l=Jt(n)),a){const b=dt(n,!0,s,n);u.x=b.x+n.clientLeft,u.y=b.y+n.clientTop}else r&&m();s&&!a&&r&&m();const c=r&&!a&&!s?ja(r,l):We(0),f=i.left+l.scrollLeft-u.x-c.x,g=i.top+l.scrollTop-u.y-c.y;return{x:f,y:g,width:i.width,height:i.height}}function sn(e){return De(e).position==="static"}function sa(e,n){if(!je(e)||De(e).position==="fixed")return null;if(n)return n(e);let t=e.offsetParent;return He(e)===t&&(t=t.ownerDocument.body),t}function Ha(e,n){const t=xe(e);if(Xt(e))return t;if(!je(e)){let r=tt(e);for(;r&&!xt(r);){if(Ie(r)&&!sn(r))return r;r=tt(r)}return t}let a=sa(e,n);for(;a&&lo(a)&&sn(a);)a=sa(a,n);return a&&xt(a)&&sn(a)&&!kn(a)?t:a||po(e)||t}const Oo=async function(e){const n=this.getOffsetParent||Ha,t=this.getDimensions,a=await t(e.floating);return{reference:$o(e.reference,await n(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function Eo(e){return De(e).direction==="rtl"}const Po={convertOffsetParentRelativeRectToViewportRelativeRect:yo,getDocumentElement:He,getClippingRect:So,getOffsetParent:Ha,getElementRects:Oo,getClientRects:bo,getDimensions:qo,getScale:ht,isElement:Ie,isRTL:Eo};function Ka(e,n){return e.x===n.x&&e.y===n.y&&e.width===n.width&&e.height===n.height}function Ao(e,n){let t=null,a;const r=He(e);function s(){var l;clearTimeout(a),(l=t)==null||l.disconnect(),t=null}function i(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),s();const m=e.getBoundingClientRect(),{left:c,top:f,width:g,height:b}=m;if(l||n(),!g||!b)return;const h=Rt(f),_=Rt(r.clientWidth-(c+g)),C=Rt(r.clientHeight-(f+b)),x=Rt(c),y={rootMargin:-h+"px "+-_+"px "+-C+"px "+-x+"px",threshold:we(0,et(1,u))||1};let T=!0;function S(O){const v=O[0].intersectionRatio;if(v!==u){if(!T)return i();v?i(!1,v):a=setTimeout(()=>{i(!1,1e-7)},1e3)}v===1&&!Ka(m,e.getBoundingClientRect())&&i(),T=!1}try{t=new IntersectionObserver(S,{...y,root:r.ownerDocument})}catch{t=new IntersectionObserver(S,y)}t.observe(e)}return i(!0),s}function Io(e,n,t,a){a===void 0&&(a={});const{ancestorScroll:r=!0,ancestorResize:s=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=a,m=qn(e),c=r||s?[...m?At(m):[],...At(n)]:[];c.forEach(x=>{r&&x.addEventListener("scroll",t,{passive:!0}),s&&x.addEventListener("resize",t)});const f=m&&l?Ao(m,t):null;let g=-1,b=null;i&&(b=new ResizeObserver(x=>{let[p]=x;p&&p.target===m&&b&&(b.unobserve(n),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var y;(y=b)==null||y.observe(n)})),t()}),m&&!u&&b.observe(m),b.observe(n));let h,_=u?dt(e):null;u&&C();function C(){const x=dt(e);_&&!Ka(_,x)&&t(),_=x,h=requestAnimationFrame(C)}return t(),()=>{var x;c.forEach(p=>{r&&p.removeEventListener("scroll",t),s&&p.removeEventListener("resize",t)}),f==null||f(),(x=b)==null||x.disconnect(),b=null,u&&cancelAnimationFrame(h)}}const Do=no,Mo=ao,oa=Zs,To=so,Bo=eo,Fo=Js,Lo=ro,Ro=(e,n,t)=>{const a=new Map,r={platform:Po,...t},s={...r.platform,_c:a};return Xs(e,n,{...r,platform:s})};function zo(e){return e!=null&&typeof e=="object"&&"$el"in e}function mn(e){if(zo(e)){const n=e.$el;return Cn(n)&&ct(n)==="#comment"?null:n}return e}function gt(e){return typeof e=="function"?e():o(e)}function Vo(e){return{name:"arrow",options:e,fn(n){const t=mn(gt(e.element));return t==null?{}:Fo({element:t,padding:e.padding}).fn(n)}}}function Ya(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ia(e,n){const t=Ya(e);return Math.round(n*t)/t}function Wo(e,n,t){t===void 0&&(t={});const a=t.whileElementsMounted,r=B(()=>{var v;return(v=gt(t.open))!=null?v:!0}),s=B(()=>gt(t.middleware)),i=B(()=>{var v;return(v=gt(t.placement))!=null?v:"bottom"}),l=B(()=>{var v;return(v=gt(t.strategy))!=null?v:"absolute"}),u=B(()=>{var v;return(v=gt(t.transform))!=null?v:!0}),m=B(()=>mn(e.value)),c=B(()=>mn(n.value)),f=P(0),g=P(0),b=P(l.value),h=P(i.value),_=dr({}),C=P(!1),x=B(()=>{const v={position:b.value,left:"0",top:"0"};if(!c.value)return v;const V=ia(c.value,f.value),G=ia(c.value,g.value);return u.value?{...v,transform:"translate("+V+"px, "+G+"px)",...Ya(c.value)>=1.5&&{willChange:"transform"}}:{position:b.value,left:V+"px",top:G+"px"}});let p;function y(){if(m.value==null||c.value==null)return;const v=r.value;Ro(m.value,c.value,{middleware:s.value,placement:i.value,strategy:l.value}).then(V=>{f.value=V.x,g.value=V.y,b.value=V.strategy,h.value=V.placement,_.value=V.middlewareData,C.value=v!==!1})}function T(){typeof p=="function"&&(p(),p=void 0)}function S(){if(T(),a===void 0){y();return}if(m.value!=null&&c.value!=null){p=a(m.value,c.value,y);return}}function O(){r.value||(C.value=!1)}return ge([s,i,l,r],y,{flush:"sync"}),ge([m,c],S,{flush:"sync"}),ge(r,O,{flush:"sync"}),cr()&&fr(T),{x:ft(f),y:ft(g),strategy:ft(b),placement:ft(h),middlewareData:ft(_),isPositioned:ft(C),floatingStyles:x,update:y}}const jo={side:"bottom",sideOffset:0,sideFlip:!0,align:"center",alignOffset:0,alignFlip:!0,arrowPadding:0,avoidCollisions:!0,collisionBoundary:()=>[],collisionPadding:0,sticky:"partial",hideWhenDetached:!1,positionStrategy:"fixed",updatePositionStrategy:"optimized",prioritizePosition:!1},[No,Ho]=Ge("PopperContent");var Ko=X({inheritAttrs:!1,__name:"PopperContent",props:mr({side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...jo}),emits:["placed"],setup(e,{emit:n}){const t=e,a=n,r=Fa(),{forwardRef:s,currentElement:i}=ce(),l=P(),u=P(),{width:m,height:c}=Kr(u),f=B(()=>t.side+(t.align!=="center"?`-${t.align}`:"")),g=B(()=>typeof t.collisionPadding=="number"?t.collisionPadding:{top:0,right:0,bottom:0,left:0,...t.collisionPadding}),b=B(()=>Array.isArray(t.collisionBoundary)?t.collisionBoundary:[t.collisionBoundary]),h=B(()=>({padding:g.value,boundary:b.value.filter(Ls),altBoundary:b.value.length>0})),_=B(()=>({mainAxis:t.sideFlip,crossAxis:t.alignFlip})),C=pr(()=>[Do({mainAxis:t.sideOffset+c.value,alignmentAxis:t.alignOffset}),t.prioritizePosition&&t.avoidCollisions&&oa({...h.value,..._.value}),t.avoidCollisions&&Mo({mainAxis:!0,crossAxis:!!t.prioritizePosition,limiter:t.sticky==="partial"?Lo():void 0,...h.value}),!t.prioritizePosition&&t.avoidCollisions&&oa({...h.value,..._.value}),To({...h.value,apply:({elements:Y,rects:se,availableWidth:U,availableHeight:re})=>{const{width:de,height:Q}=se.reference,te=Y.floating.style;te.setProperty("--reka-popper-available-width",`${U}px`),te.setProperty("--reka-popper-available-height",`${re}px`),te.setProperty("--reka-popper-anchor-width",`${de}px`),te.setProperty("--reka-popper-anchor-height",`${Q}px`)}}),u.value&&Vo({element:u.value,padding:t.arrowPadding}),Rs({arrowWidth:m.value,arrowHeight:c.value}),t.hideWhenDetached&&Bo({strategy:"referenceHidden",...h.value})]),x=B(()=>t.reference??r.anchor.value),{floatingStyles:p,placement:y,isPositioned:T,middlewareData:S}=Wo(x,l,{strategy:t.positionStrategy,placement:f,whileElementsMounted:(...Y)=>Io(...Y,{layoutShift:!t.disableUpdateOnLayoutShift,animationFrame:t.updatePositionStrategy==="always"}),middleware:C}),O=B(()=>un(y.value)[0]),v=B(()=>un(y.value)[1]);Ca(()=>{T.value&&a("placed")});const V=B(()=>{var Y;return((Y=S.value.arrow)==null?void 0:Y.centerOffset)!==0}),G=P("");ln(()=>{i.value&&(G.value=window.getComputedStyle(i.value).zIndex)});const M=B(()=>{var Y;return((Y=S.value.arrow)==null?void 0:Y.x)??0}),A=B(()=>{var Y;return((Y=S.value.arrow)==null?void 0:Y.y)??0});return Ho({placedSide:O,onArrowChange:Y=>u.value=Y,arrowX:M,arrowY:A,shouldHideArrow:V}),(Y,se)=>{var U,re,de;return w(),I("div",{ref_key:"floatingRef",ref:l,"data-reka-popper-content-wrapper":"",style:hn({...o(p),transform:o(T)?o(p).transform:"translate(0, -200%)",minWidth:"max-content",zIndex:G.value,"--reka-popper-transform-origin":[(U=o(S).transformOrigin)==null?void 0:U.x,(re=o(S).transformOrigin)==null?void 0:re.y].join(" "),...((de=o(S).hide)==null?void 0:de.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}})},[q(o(pe),ee({ref:o(s)},Y.$attrs,{"as-child":t.asChild,as:Y.as,"data-side":O.value,"data-align":v.value,style:{animation:o(T)?void 0:"none"}}),{default:k(()=>[R(Y.$slots,"default")]),_:3},16,["as-child","as","data-side","data-align","style"])],4)}}}),Yo=Ko;const Uo={top:"bottom",right:"left",bottom:"top",left:"right"};var Go=X({inheritAttrs:!1,__name:"PopperArrow",props:{width:{type:Number,required:!1},height:{type:Number,required:!1},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const{forwardRef:n}=ce(),t=No(),a=B(()=>Uo[t.placedSide.value]);return(r,s)=>{var i,l,u,m;return w(),I("span",{ref:c=>{o(t).onArrowChange(c)},style:hn({position:"absolute",left:(i=o(t).arrowX)!=null&&i.value?`${(l=o(t).arrowX)==null?void 0:l.value}px`:void 0,top:(u=o(t).arrowY)!=null&&u.value?`${(m=o(t).arrowY)==null?void 0:m.value}px`:void 0,[a.value]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o(t).placedSide.value],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o(t).placedSide.value],visibility:o(t).shouldHideArrow.value?"hidden":void 0})},[q(Fs,ee(r.$attrs,{ref:o(n),style:{display:"block"},as:r.as,"as-child":r.asChild,rounded:r.rounded,width:r.width,height:r.height}),{default:k(()=>[R(r.$slots,"default")]),_:3},16,["as","as-child","rounded","width","height"])],4)}}}),Qo=Go,Xo=X({__name:"ComboboxAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const{forwardRef:n}=ce();return(t,a)=>(w(),D(o(Ds),{"as-child":"",reference:t.reference},{default:k(()=>[q(o(pe),ee({ref:o(n),"as-child":t.asChild,as:t.as},t.$attrs),{default:k(()=>[R(t.$slots,"default")]),_:3},16,["as-child","as"])]),_:3},8,["reference"]))}}),Jo=Xo;function Zo(e,n,t){return e===void 0?!1:Array.isArray(e)?e.some(a=>Et(a,n,t)):Et(e,n,t)}function Et(e,n,t){return e===void 0||n===void 0?!1:typeof e=="string"?e===n:typeof t=="function"?t(e,n):typeof t=="string"?(e==null?void 0:e[t])===(n==null?void 0:n[t]):on(e,n)}const[en,ei]=Ge("ListboxRoot");var ti=X({__name:"ListboxRoot",props:{modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},orientation:{type:String,required:!1,default:"vertical"},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},selectionBehavior:{type:String,required:!1,default:"toggle"},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","entryFocus","leave"],setup(e,{expose:n,emit:t}){const a=e,r=t,{multiple:s,highlightOnHover:i,orientation:l,disabled:u,selectionBehavior:m,dir:c}=Ut(a),{getItems:f}=yn({isProvider:!0}),{handleTypeaheadSearch:g}=Yr(),{primitiveElement:b,currentElement:h}=Ct(),_=Hr(),C=Aa(c),x=zr(h),p=P(),y=P(!1),T=P(!0),S=bt(a,"modelValue",r,{defaultValue:a.defaultValue??(s.value?[]:void 0),passive:a.modelValue===void 0,deep:!0});function O(L){if(y.value=!0,a.multiple){const J=Array.isArray(S.value)?[...S.value]:[],Z=J.findIndex(ue=>Et(ue,L,a.by));a.selectionBehavior==="toggle"?(Z===-1?J.push(L):J.splice(Z,1),S.value=J):(S.value=[L],p.value=L)}else a.selectionBehavior==="toggle"&&Et(S.value,L,a.by)?S.value=void 0:S.value=L;setTimeout(()=>{y.value=!1},1)}const v=P(null),V=P(null),G=P(!1),M=P(!1),A=Wt(),Y=Wt(),se=Wt();function U(){return f().map(L=>L.ref).filter(L=>L.dataset.disabled!=="")}function re(L,J=!0){if(!L)return;v.value=L,T.value&&v.value.focus(),J&&v.value.scrollIntoView({block:"nearest"});const Z=f().find(ue=>ue.ref===L);r("highlight",Z)}function de(L){if(G.value)se.trigger(L);else{const J=f().find(Z=>Et(Z.value,L,a.by));J&&(v.value=J.ref,re(J.ref))}}function Q(L){v.value&&v.value.isConnected&&(L.preventDefault(),L.stopPropagation(),M.value||v.value.click())}function te(L){if(T.value){if(y.value=!0,G.value)Y.trigger(L);else{const J=L.altKey||L.ctrlKey||L.metaKey;if(J&&L.key==="a"&&s.value){const Z=f(),ue=Z.map(me=>me.value);S.value=[...ue],L.preventDefault(),re(Z[Z.length-1].ref)}else if(!J){const Z=g(L.key,f());Z&&re(Z)}}setTimeout(()=>{y.value=!1},1)}}function z(){M.value=!0}function Te(){Pe(()=>{M.value=!1})}function _e(){Pe(()=>{const L=new KeyboardEvent("keydown",{key:"PageUp"});rt(L)})}function Ce(L){const J=v.value;J!=null&&J.isConnected&&(V.value=J),v.value=null,r("leave",L)}function Ee(L){var Z,ue;const J=new CustomEvent("listbox.entryFocus",{bubbles:!1,cancelable:!0});if((Z=L.currentTarget)==null||Z.dispatchEvent(J),r("entryFocus",J),!J.defaultPrevented)if(V.value)re(V.value);else{const me=(ue=U())==null?void 0:ue[0];re(me)}}function rt(L){const J=Ss(L,l.value,C.value);if(!J)return;let Z=U();if(v.value){if(J==="last")Z.reverse();else if(J==="prev"||J==="next"){J==="prev"&&Z.reverse();const ue=Z.indexOf(v.value);Z=Z.slice(ue+1)}Qe(L,Z[0])}if(Z.length){const ue=!v.value&&J==="prev"?Z.length-1:0;re(Z[ue])}if(G.value)return Y.trigger(L)}function Qe(L,J){var ue;if(!(G.value||a.selectionBehavior!=="replace"||!s.value||!Array.isArray(S.value)||(L.altKey||L.ctrlKey||L.metaKey)&&!L.shiftKey)&&L.shiftKey){const me=f().filter(ne=>ne.ref.dataset.disabled!=="");let fe=(ue=me.find(ne=>ne.ref===J))==null?void 0:ue.value;if(L.key===_.END?fe=me[me.length-1].value:L.key===_.HOME&&(fe=me[0].value),!fe||!p.value)return;const K=Fr(me.map(ne=>ne.value),p.value,fe);S.value=K}}async function Xe(L){if(await Pe(),G.value)A.trigger(L);else{const J=U(),Z=J.find(ue=>ue.dataset.state==="checked");Z?re(Z):J.length&&re(J[0])}}return ge(S,()=>{y.value||Pe(()=>{Xe()})},{immediate:!0,deep:!0}),n({highlightedElement:v,highlightItem:de,highlightFirstItem:_e,highlightSelected:Xe,getItems:f}),ei({modelValue:S,onValueChange:O,multiple:s,orientation:l,dir:C,disabled:u,highlightOnHover:i,highlightedElement:v,isVirtual:G,virtualFocusHook:A,virtualKeydownHook:Y,virtualHighlightHook:se,by:a.by,firstValue:p,selectionBehavior:m,focusable:T,onLeave:Ce,onEnter:Ee,changeHighlight:re,onKeydownEnter:Q,onKeydownNavigation:rt,onKeydownTypeAhead:te,onCompositionStart:z,onCompositionEnd:Te,highlightFirstItem:_e}),(L,J)=>(w(),D(o(pe),{ref_key:"primitiveElement",ref:b,as:L.as,"as-child":L.asChild,dir:o(C),"data-disabled":o(u)?"":void 0,onPointerleave:Ce,onFocusout:J[0]||(J[0]=async Z=>{const ue=Z.relatedTarget||Z.target;await Pe(),v.value&&o(h)&&!o(h).contains(ue)&&Ce(Z)})},{default:k(()=>[R(L.$slots,"default",{modelValue:o(S)}),o(x)&&L.name?(w(),D(o(Os),{key:0,name:L.name,value:o(S),disabled:o(u),required:L.required},null,8,["name","value","disabled","required"])):j("v-if",!0)]),_:3},8,["as","as-child","dir","data-disabled"]))}}),ni=ti,ai=X({__name:"ListboxContent",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const{CollectionSlot:n}=yn(),t=en(),a=ba(!1,10);return(r,s)=>(w(),D(o(n),null,{default:k(()=>[q(o(pe),{role:"listbox",as:r.as,"as-child":r.asChild,tabindex:o(t).focusable.value?o(t).highlightedElement.value?"-1":"0":void 0,"aria-orientation":o(t).orientation.value,"aria-multiselectable":!!o(t).multiple.value,"data-orientation":o(t).orientation.value,onMousedown:s[0]||(s[0]=$e(i=>a.value=!0,["left"])),onFocus:s[1]||(s[1]=i=>{o(a)||o(t).onEnter(i)}),onKeydown:[s[2]||(s[2]=be($e(i=>{o(t).focusable.value&&o(t).onKeydownNavigation(i)},["prevent"]),["down","up","left","right","home","end"])),be(o(t).onKeydownEnter,["enter"]),o(t).onKeydownTypeAhead]},{default:k(()=>[R(r.$slots,"default")]),_:3},8,["as","as-child","tabindex","aria-orientation","aria-multiselectable","data-orientation","onKeydown"])]),_:3}))}}),ri=ai,si=X({__name:"ListboxFilter",props:{modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(e,{emit:n}){const t=e,r=bt(t,"modelValue",n,{defaultValue:"",passive:t.modelValue===void 0}),s=en(),{primitiveElement:i,currentElement:l}=Ct(),u=B(()=>t.disabled||s.disabled.value||!1),m=P();return gr(()=>{var c;return m.value=(c=s.highlightedElement.value)==null?void 0:c.id}),Oe(()=>{s.focusable.value=!1,setTimeout(()=>{var c;t.autoFocus&&((c=l.value)==null||c.focus())},1)}),_t(()=>{s.focusable.value=!0}),(c,f)=>(w(),D(o(pe),{ref_key:"primitiveElement",ref:i,as:c.as,"as-child":c.asChild,value:o(r),disabled:u.value?"":void 0,"data-disabled":u.value?"":void 0,"aria-disabled":u.value??void 0,"aria-activedescendant":m.value,type:"text",onKeydown:[be($e(o(s).onKeydownNavigation,["prevent"]),["down","up","home","end"]),be(o(s).onKeydownEnter,["enter"])],onInput:f[0]||(f[0]=g=>{r.value=g.target.value,o(s).highlightFirstItem()}),onCompositionstart:o(s).onCompositionStart,onCompositionend:o(s).onCompositionEnd},{default:k(()=>[R(c.$slots,"default",{modelValue:o(r)})]),_:3},8,["as","as-child","value","disabled","data-disabled","aria-disabled","aria-activedescendant","onKeydown","onCompositionstart","onCompositionend"]))}}),oi=si;const[sm,ii]=Ge("ListboxGroup");var li=X({__name:"ListboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e,t=Ke(void 0,"reka-listbox-group");return ii({id:t}),(a,r)=>(w(),D(o(pe),ee({role:"group"},n,{"aria-labelledby":o(t)}),{default:k(()=>[R(a.$slots,"default")]),_:3},16,["aria-labelledby"]))}}),ui=li;const di="listbox.select",[ci,fi]=Ge("ListboxItem");var mi=X({__name:"ListboxItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},emits:["select"],setup(e,{emit:n}){const t=e,a=n,r=Ke(void 0,"reka-listbox-item"),{CollectionItem:s}=yn(),{forwardRef:i,currentElement:l}=ce(),u=en(),m=B(()=>l.value===u.highlightedElement.value),c=B(()=>Zo(u.modelValue.value,t.value,u.by)),f=B(()=>u.disabled.value||t.disabled);async function g(h){a("select",h),!(h!=null&&h.defaultPrevented)&&!f.value&&h&&(u.onValueChange(t.value),u.changeHighlight(l.value))}function b(h){const _={originalEvent:h,value:t.value};hr(di,g,_)}return fi({isSelected:c}),(h,_)=>(w(),D(o(s),{value:h.value},{default:k(()=>[vr([m.value,c.value],()=>q(o(pe),ee({id:o(r)},h.$attrs,{ref:o(i),role:"option",tabindex:o(u).focusable.value?m.value?"0":"-1":-1,"aria-selected":c.value,as:h.as,"as-child":h.asChild,disabled:f.value?"":void 0,"data-disabled":f.value?"":void 0,"data-highlighted":m.value?"":void 0,"data-state":c.value?"checked":"unchecked",onClick:b,onKeydown:be($e(b,["prevent"]),["space"]),onPointermove:_[0]||(_[0]=C=>{o(u).highlightedElement.value!==o(l)&&(o(u).highlightOnHover.value?o(u).changeHighlight(o(l),!1):o(u).focusable.value||o(u).changeHighlight(o(l),!1))})}),{default:k(()=>[R(h.$slots,"default")]),_:3},16,["id","tabindex","aria-selected","as","as-child","disabled","data-disabled","data-highlighted","data-state","onKeydown"]),_,1)]),_:3},8,["value"]))}}),pi=mi,gi=X({__name:"ListboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const n=e;ce();const t=ci();return(a,r)=>o(t).isSelected.value?(w(),D(o(pe),ee({key:0,"aria-hidden":"true"},n),{default:k(()=>[R(a.$slots,"default")]),_:3},16)):j("v-if",!0)}}),vi=gi;const[at,hi]=Ge("ComboboxRoot");var yi=X({__name:"ComboboxRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},openOnFocus:{type:Boolean,required:!1,default:!1},openOnClick:{type:Boolean,required:!1,default:!1},ignoreFilter:{type:Boolean,required:!1},modelValue:{type:null,required:!1},defaultValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},dir:{type:String,required:!1},disabled:{type:Boolean,required:!1},highlightOnHover:{type:Boolean,required:!1},by:{type:[String,Function],required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue","highlight","update:open"],setup(e,{expose:n,emit:t}){var U,re,de;const a=e,r=t,{primitiveElement:s,currentElement:i}=Ct(),{multiple:l,disabled:u,ignoreFilter:m,resetSearchTermOnSelect:c,openOnFocus:f,openOnClick:g,dir:b}=Ut(a),h=Aa(b),_=bt(a,"modelValue",r,{defaultValue:a.defaultValue??(l.value?[]:void 0),passive:a.modelValue===void 0,deep:!0}),C=bt(a,"open",r,{defaultValue:a.defaultOpen,passive:a.open===void 0});async function x(Q){var te,z;C.value=Q,A.value="",Q?(await Pe(),(te=s.value)==null||te.highlightSelected(),y.value=!0):y.value=!1,(z=S.value)==null||z.focus(),setTimeout(()=>{!Q&&a.resetSearchTermOnBlur&&p.trigger()},1)}const p=Wt(),y=P(!1),T=P(!1),S=P(),O=P(),v=B(()=>{var Q;return((Q=s.value)==null?void 0:Q.highlightedElement)??void 0}),V=P(new Map),G=P(new Map),{contains:M}=Ia({sensitivity:"base"}),A=P(""),Y=B(Q=>{if(!A.value||a.ignoreFilter||T.value)return{count:V.value.size,items:(Q==null?void 0:Q.items)??new Map,groups:(Q==null?void 0:Q.groups)??new Set(G.value.keys())};let te=0;const z=new Map,Te=new Set;for(const[_e,Ce]of V.value){const Ee=M(Ce,A.value);z.set(_e,Ee?1:0),Ee&&te++}for(const[_e,Ce]of G.value)for(const Ee of Ce)if(z.get(Ee)>0){Te.add(_e);break}return{count:te,items:z,groups:Te}}),se=yr();return Oe(()=>{var Q,te,z;se!=null&&se.exposed&&(se.exposed.highlightItem=(Q=s.value)==null?void 0:Q.highlightItem,se.exposed.highlightFirstItem=(te=s.value)==null?void 0:te.highlightFirstItem,se.exposed.highlightSelected=(z=s.value)==null?void 0:z.highlightSelected)}),n({filtered:Y,highlightedElement:v,highlightItem:(U=s.value)==null?void 0:U.highlightItem,highlightFirstItem:(re=s.value)==null?void 0:re.highlightFirstItem,highlightSelected:(de=s.value)==null?void 0:de.highlightSelected}),hi({modelValue:_,multiple:l,disabled:u,open:C,onOpenChange:x,contentId:"",isUserInputted:y,isVirtual:T,inputElement:S,highlightedElement:v,onInputElementChange:Q=>S.value=Q,triggerElement:O,onTriggerElementChange:Q=>O.value=Q,parentElement:i,resetSearchTermOnSelect:c,onResetSearchTerm:p.on,allItems:V,allGroups:G,filterSearch:A,filterState:Y,ignoreFilter:m,openOnFocus:f,openOnClick:g}),(Q,te)=>(w(),D(o(As),null,{default:k(()=>[q(o(ni),ee({ref_key:"primitiveElement",ref:s},Q.$attrs,{modelValue:o(_),"onUpdate:modelValue":te[0]||(te[0]=z=>Re(_)?_.value=z:null),style:{pointerEvents:o(C)?"auto":void 0},as:Q.as,"as-child":Q.asChild,dir:o(h),multiple:o(l),name:Q.name,required:Q.required,disabled:o(u),"highlight-on-hover":!0,by:a.by,onHighlight:te[1]||(te[1]=z=>r("highlight",z))}),{default:k(()=>[R(Q.$slots,"default",{open:o(C),modelValue:o(_)})]),_:3},16,["modelValue","style","as","as-child","dir","multiple","name","required","disabled","by"])]),_:3}))}}),bi=yi;const[wi,xi]=Ge("ComboboxContent");var _i=X({__name:"ComboboxContentImpl",props:{position:{type:String,required:!1,default:"inline"},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(e,{emit:n}){const t=e,a=n,{position:r}=Ut(t),s=at(),{forwardRef:i,currentElement:l}=ce();Ea(t.bodyLock),Ma(s.parentElement);const u=B(()=>t.position==="popper"?t:{}),m=br(u.value),c={boxSizing:"border-box","--reka-combobox-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-combobox-content-available-width":"var(--reka-popper-available-width)","--reka-combobox-content-available-height":"var(--reka-popper-available-height)","--reka-combobox-trigger-width":"var(--reka-popper-anchor-width)","--reka-combobox-trigger-height":"var(--reka-popper-anchor-height)"};xi({position:r});const f=P(!1);return Oe(()=>{s.inputElement.value&&(f.value=l.value.contains(s.inputElement.value),f.value&&s.inputElement.value.focus())}),_t(()=>{var g;f.value&&((g=s.triggerElement.value)==null||g.focus())}),(g,b)=>(w(),D(o(ri),{"as-child":""},{default:k(()=>[q(o(wa),{"as-child":"","disable-outside-pointer-events":g.disableOutsidePointerEvents,onDismiss:b[0]||(b[0]=h=>o(s).onOpenChange(!1)),onFocusOutside:b[1]||(b[1]=h=>{var _;(_=o(s).parentElement.value)!=null&&_.contains(h.target)&&h.preventDefault(),a("focusOutside",h)}),onInteractOutside:b[2]||(b[2]=h=>a("interactOutside",h)),onEscapeKeyDown:b[3]||(b[3]=h=>a("escapeKeyDown",h)),onPointerDownOutside:b[4]||(b[4]=h=>{var _;(_=o(s).parentElement.value)!=null&&_.contains(h.target)&&h.preventDefault(),a("pointerDownOutside",h)})},{default:k(()=>[(w(),D(wr(o(r)==="popper"?o(Yo):o(pe)),ee({...g.$attrs,...o(m)},{id:o(s).contentId,ref:o(i),"data-state":o(s).open.value?"open":"closed",style:{display:"flex",flexDirection:"column",outline:"none",...o(r)==="popper"?c:{}}}),{default:k(()=>[R(g.$slots,"default")]),_:3},16,["id","data-state","style"]))]),_:3},8,["disable-outside-pointer-events"])]),_:3}))}}),Ci=_i,ki=X({__name:"ComboboxArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},rounded:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(e){const n=e,t=at(),a=wi();return ce(),(r,s)=>o(t).open.value&&o(a).position.value==="popper"?(w(),D(o(Qo),Ze(ee({key:0},n)),{default:k(()=>[R(r.$slots,"default")]),_:3},16)):j("v-if",!0)}}),Si=ki,qi=X({__name:"ComboboxContent",props:{forceMount:{type:Boolean,required:!1},position:{type:String,required:!1},bodyLock:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(e,{emit:n}){const r=bn(e,n),{forwardRef:s}=ce(),i=at();return i.contentId||(i.contentId=Ke(void 0,"reka-combobox-content")),(l,u)=>(w(),D(o(vn),{present:l.forceMount||o(i).open.value},{default:k(()=>[q(Ci,ee({...o(r),...l.$attrs},{ref:o(s)}),{default:k(()=>[R(l.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),$i=qi,Oi=X({__name:"ComboboxEmpty",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e,t=at(),a=B(()=>t.ignoreFilter.value?t.allItems.value.size===0:t.filterState.value.count===0);return(r,s)=>a.value?(w(),D(o(pe),Ze(ee({key:0},n)),{default:k(()=>[R(r.$slots,"default",{},()=>[s[0]||(s[0]=N("No options"))])]),_:3},16)):j("v-if",!0)}}),Ei=Oi;const[Ua,Pi]=Ge("ComboboxGroup");var Ai=X({__name:"ComboboxGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e,t=Ke(void 0,"reka-combobox-group"),a=at(),r=B(()=>a.ignoreFilter.value?!0:a.filterSearch.value?a.filterState.value.groups.has(t):!0),s=Pi({id:t,labelId:""});return Oe(()=>{a.allGroups.value.has(t)||a.allGroups.value.set(t,new Set)}),_t(()=>{a.allGroups.value.delete(t)}),(i,l)=>(w(),D(o(ui),ee({id:o(t),"aria-labelledby":o(s).labelId},n,{hidden:r.value?void 0:!0}),{default:k(()=>[R(i.$slots,"default")]),_:3},16,["id","aria-labelledby","hidden"]))}}),la=Ai,Ii=X({__name:"ComboboxInput",props:{displayValue:{type:Function,required:!1},modelValue:{type:String,required:!1},autoFocus:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"input"}},emits:["update:modelValue"],setup(e,{emit:n}){const t=e,a=n,r=at(),s=en(),{primitiveElement:i,currentElement:l}=Ct(),u=bt(t,"modelValue",a,{passive:t.modelValue===void 0});Oe(()=>{l.value&&r.onInputElementChange(l.value)});function m(h){r.open.value||r.onOpenChange(!0)}function c(h){const _=h.target;r.open.value?r.filterSearch.value=_.value:(r.onOpenChange(!0),Pe(()=>{_.value&&(r.filterSearch.value=_.value,s.highlightFirstItem())}))}function f(){r.openOnFocus.value&&!r.open.value&&r.onOpenChange(!0)}function g(){r.openOnClick.value&&!r.open.value&&r.onOpenChange(!0)}function b(){const h=r.modelValue.value;t.displayValue?u.value=t.displayValue(h):!r.multiple.value&&h&&!Array.isArray(h)&&typeof h!="object"?u.value=h.toString():u.value="",Pe(()=>{u.value=u.value})}return r.onResetSearchTerm(()=>{b()}),ge(r.modelValue,async()=>{!r.isUserInputted.value&&r.resetSearchTermOnSelect.value&&b()},{immediate:!0,deep:!0}),ge(r.filterState,()=>{r.isVirtual.value||s.highlightFirstItem()}),(h,_)=>(w(),D(o(oi),{ref_key:"primitiveElement",ref:i,modelValue:o(u),"onUpdate:modelValue":_[0]||(_[0]=C=>Re(u)?u.value=C:null),as:h.as,"as-child":h.asChild,"auto-focus":h.autoFocus,disabled:h.disabled,"aria-expanded":o(r).open.value,"aria-controls":o(r).contentId,"aria-autocomplete":"list",role:"combobox",autocomplete:"off",onClick:g,onInput:c,onKeydown:be($e(m,["prevent"]),["down","up"]),onFocus:f},{default:k(()=>[R(h.$slots,"default")]),_:3},8,["modelValue","as","as-child","auto-focus","disabled","aria-expanded","aria-controls","onKeydown"]))}}),Di=Ii,Mi=X({__name:"ComboboxItem",props:{textValue:{type:String,required:!1},value:{type:null,required:!0},disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(e,{emit:n}){const t=e,a=n,r=Ke(void 0,"reka-combobox-item"),s=at(),i=Ua(null),{primitiveElement:l,currentElement:u}=Ct();if(t.value==="")throw new Error("A <ComboboxItem /> must have a value prop that is not an empty string. This is because the Combobox value can be set to an empty string to clear the selection and show the placeholder.");const m=B(()=>{if(s.isVirtual.value||s.ignoreFilter.value||!s.filterSearch.value)return!0;{const c=s.filterState.value.items.get(r);return c===void 0?!0:c>0}});return Oe(()=>{var f;s.allItems.value.set(r,t.textValue||u.value.textContent||u.value.innerText);const c=i==null?void 0:i.id;c&&(s.allGroups.value.has(c)?(f=s.allGroups.value.get(c))==null||f.add(r):s.allGroups.value.set(c,new Set([r])))}),_t(()=>{s.allItems.value.delete(r)}),(c,f)=>m.value?(w(),D(o(pi),ee({key:0},t,{id:o(r),ref_key:"primitiveElement",ref:l,disabled:o(s).disabled.value||c.disabled,onSelect:f[0]||(f[0]=g=>{a("select",g),!g.defaultPrevented&&!o(s).multiple.value&&!c.disabled&&!o(s).disabled.value&&(g.preventDefault(),o(s).onOpenChange(!1),o(s).modelValue.value=t.value)})}),{default:k(()=>[R(c.$slots,"default",{},()=>[N(F(c.value),1)])]),_:3},16,["id","disabled"])):j("v-if",!0)}}),ua=Mi,Ti=X({__name:"ComboboxItemIndicator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){const n=e;return(t,a)=>(w(),D(o(vi),Ze(wt(n)),{default:k(()=>[R(t.$slots,"default")]),_:3},16))}}),Bi=Ti,Fi=X({__name:"ComboboxLabel",props:{for:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(e){const n=e;ce();const t=Ua({id:"",labelId:""});return t.labelId||(t.labelId=Ke(void 0,"reka-combobox-group-label")),(a,r)=>(w(),D(o(pe),ee(n,{id:o(t).labelId}),{default:k(()=>[R(a.$slots,"default")]),_:3},16,["id"]))}}),Li=Fi,Ri=X({__name:"ComboboxPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=e;return(t,a)=>(w(),D(o(xa),Ze(wt(n)),{default:k(()=>[R(t.$slots,"default")]),_:3},16))}}),zi=Ri,Vi=X({__name:"ComboboxSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=e;return ce(),(t,a)=>(w(),D(o(pe),ee(n,{"aria-hidden":"true"}),{default:k(()=>[R(t.$slots,"default")]),_:3},16))}}),Wi=Vi,ji=X({__name:"ComboboxTrigger",props:{disabled:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e,{forwardRef:t,currentElement:a}=ce(),r=at(),s=B(()=>n.disabled||r.disabled.value||!1);return Oe(()=>{a.value&&r.onTriggerElementChange(a.value)}),(i,l)=>(w(),D(o(pe),ee(n,{ref:o(t),type:i.as==="button"?"button":void 0,tabindex:"-1","aria-label":"Show popup","aria-haspopup":"listbox","aria-expanded":o(r).open.value,"aria-controls":o(r).contentId,"data-state":o(r).open.value?"open":"closed",disabled:s.value,"data-disabled":s.value?"":void 0,"aria-disabled":s.value??void 0,onClick:l[0]||(l[0]=u=>o(r).onOpenChange(!o(r).open.value))}),{default:k(()=>[R(i.$slots,"default")]),_:3},16,["type","aria-expanded","aria-controls","data-state","disabled","data-disabled","aria-disabled"]))}}),Ni=ji;const Hi={class:"text-lg font-semibold flex items-center gap-2 text-white"},Ki={class:"space-y-4"},Yi={class:"space-y-2"},Ui={class:"flex gap-2 flex-wrap"},Gi=["onClick","onDblclick","title"],Qi={key:0,class:"space-y-2"},Xi={class:"flex justify-between items-center"},Ji={class:"badge-blood px-2 py-0.5"},Zi={class:"flex justify-between items-center"},el={class:"badge-blood px-2 py-0.5"},tl=X({__name:"ChestPanel",props:{chests:{},selectedChestId:{},chestEntries:{}},emits:["chest-selected","create-chest","manage-chest"],setup(e){const n=e,t=B(()=>n.chestEntries.reduce((r,s)=>r+s.quantity,0)),a=B(()=>n.chestEntries.length);return(r,s)=>{const i=ze,l=kt,u=Gt;return w(),D(u,{class:"panel brushed copper-outline with-rivets"},{header:k(()=>[d("h3",Hi,[q(i,{name:"i-mdi-crown",class:"w-5 h-5"}),s[1]||(s[1]=N(" Coffres ",-1))])]),default:k(()=>[d("div",Ki,[d("div",Yi,[s[2]||(s[2]=d("label",{class:"block text-sm font-medium text-gray-300"},"Coffre sélectionné",-1)),d("div",Ui,[(w(!0),I(ye,null,Ae(r.chests,m=>(w(),I("button",{key:m._id,onClick:c=>r.$emit("chest-selected",m._id),onDblclick:c=>r.$emit("manage-chest",m._id),class:ae(["px-4 py-2 rounded-lg text-sm font-medium transition-colors copper-outline cursor-pointer",r.selectedChestId===m._id?"bg-[rgba(122,28,28,0.18)] text-[#f5e7e7]":"bg-[rgba(20,22,28,0.7)] text-gray-300 hover:bg-[rgba(25,27,34,0.8)]"]),title:r.selectedChestId===m._id?"Double-clic pour gérer ce coffre":"Cliquer pour sélectionner"},F(m.name),43,Gi))),128))])]),q(l,{onClick:s[0]||(s[0]=m=>r.$emit("create-chest")),icon:"i-mdi-plus",color:"red",variant:"outline",block:"",size:"lg",class:"copper-outline"},{default:k(()=>[...s[3]||(s[3]=[N(" Nouveau coffre ",-1)])]),_:1}),s[6]||(s[6]=d("hr",{class:"my-4 copper-ring"},null,-1)),r.selectedChestId?(w(),I("div",Qi,[d("div",Xi,[s[4]||(s[4]=d("span",{class:"text-sm text-gray-400"},"Items total",-1)),d("span",Ji,F(o(t)),1)]),d("div",Zi,[s[5]||(s[5]=d("span",{class:"text-sm text-gray-400"},"Slots utilisés",-1)),d("span",el,F(o(a)),1)])])):j("",!0)])]),_:1})}}}),nl={class:"text-lg font-semibold flex items-center gap-2 text-white"},al={class:"space-y-4"},rl={key:0,class:"space-y-2"},sl={class:"space-y-1 max-h-48 overflow-y-auto"},ol=["onClick"],il={class:"flex items-center gap-3"},ll=["src","alt"],ul={class:"flex-1 min-w-0"},dl={class:"font-medium truncate"},cl={class:"text-xs opacity-75"},fl={class:"badge-blood px-2 py-0.5 text-xs"},ml={key:1,class:"p-4 bg-[rgba(20,22,28,0.7)] rounded-lg border border-blood-400/30"},pl={class:"text-sm font-semibold text-white mb-3 flex items-center gap-2"},gl={class:"flex items-start gap-4"},vl=["src","alt"],hl={class:"flex-1 min-w-0"},yl={class:"text-lg font-bold text-white mb-1"},bl={class:"flex flex-wrap items-center gap-2 mb-2"},wl={class:"chip chip--accent"},xl={class:"chip"},_l={key:0,class:"chip"},Cl={key:0,class:"text-sm text-gray-300 leading-relaxed"},kl={key:1,class:"mt-3"},Sl={class:"flex flex-wrap gap-1"},ql={class:"space-y-3"},$l={class:"flex items-center gap-3"},Ol={class:"flex-1"},El=["disabled"],Pl={class:"text-white group-hover:text-blood-200 transition-colors"},Al="http://localhost:4000/api",Il="http://localhost:4000/images",Dl=X({__name:"SearchPanel",props:{query:{},pickerOptions:{},selectedChestId:{},pickerItemId:{},selectedPick:{}},emits:["query-changed","option-selected","deposit-one","deposit-with-quantity"],setup(e,{emit:n}){const t=e,a=n,r=P(t.query),s=P(-1),i=P(1),l=P(null);function u(C,x=150){let p;return(...y)=>{clearTimeout(p),p=setTimeout(()=>C(...y),x)}}const m=u(async()=>{const C=r.value.trim();if(!C){a("query-changed",""),l.value=null;return}const x=new URLSearchParams({q:C});try{const p=await fetch(`${Al}/items/suggest?${x.toString()}`,{credentials:"include"});if(p.ok){const y=await p.json();a("option-selected",y||[]),s.value=y!=null&&y.length?0:-1}}catch(p){console.error("Erreur onPickerInput:",p)}},150);function c(C){r.value=(C==null?void 0:C.nom)||"",l.value=C,a("option-selected",C)}function f(){if(!l.value||!t.selectedChestId)return;const C=i.value||1;a("deposit-with-quantity",l.value,C),l.value=null,r.value="",i.value=1}function g(C){t.pickerOptions.length&&(s.value=(s.value+C+t.pickerOptions.length)%t.pickerOptions.length)}function b(){s.value<0||s.value>=t.pickerOptions.length||c(t.pickerOptions[s.value])}function h(C){const x=C==null?void 0:C.image_url;return x?x.startsWith("http")?x:`${Il}${x}`:"/placeholder.png"}const _=B(()=>!!t.selectedChestId&&(!!t.pickerItemId||!!t.selectedPick||!!l.value||t.pickerOptions.length>0));return ge(()=>t.query,C=>{r.value=C}),ge(()=>r.value,C=>{(!C||C.trim()==="")&&(l.value=null)}),(C,x)=>{const p=ze,y=St,T=Gt;return w(),D(T,{class:"panel brushed copper-outline with-rivets"},{header:k(()=>[d("h3",nl,[q(p,{name:"i-mdi-magnify",class:"w-5 h-5"}),x[5]||(x[5]=N(" Recherche ",-1))])]),default:k(()=>[d("div",al,[q(y,{modelValue:r.value,"onUpdate:modelValue":x[0]||(x[0]=S=>r.value=S),onInput:o(m),onKeydown:[x[1]||(x[1]=be($e(S=>g(1),["prevent"]),["down"])),x[2]||(x[2]=be($e(S=>g(-1),["prevent"]),["up"])),x[3]||(x[3]=be($e(S=>b(),["prevent"]),["enter"]))],placeholder:"Rechercher un item...",size:"lg"},null,8,["modelValue","onInput"]),C.pickerOptions.length>0?(w(),I("div",rl,[x[6]||(x[6]=d("p",{class:"text-sm text-gray-400"},"Suggestions :",-1)),d("div",sl,[(w(!0),I(ye,null,Ae(C.pickerOptions.slice(0,5),(S,O)=>(w(),I("div",{key:S._id,class:ae(["p-3 rounded-lg cursor-pointer transition-colors copper-outline",O===s.value?"bg-[rgba(122,28,28,0.18)] text-[#f5e7e7]":"bg-[rgba(20,22,28,0.7)] text-gray-200 hover:bg-[rgba(25,27,34,0.8)]"]),onClick:v=>c(S)},[d("div",il,[d("img",{src:h(S),alt:S.nom,class:"w-8 h-8 object-contain rounded bg-[rgba(12,14,20,0.35)]"},null,8,ll),d("div",ul,[d("p",dl,F(S.nom),1),d("p",cl,F(S.categorie),1)]),d("span",fl,"T"+F(S.tier),1)])],10,ol))),128))])])):j("",!0),l.value?(w(),I("div",ml,[d("h4",pl,[q(p,{name:"i-mdi-eye",class:"w-4 h-4 text-blood-400"}),x[7]||(x[7]=N(" Aperçu de l'item ",-1))]),d("div",gl,[d("img",{src:h(l.value),alt:l.value.nom,class:"w-16 h-16 object-contain rounded-lg bg-[rgba(12,14,20,0.35)] ring-1 ring-blood-400/30"},null,8,vl),d("div",hl,[d("h5",yl,F(l.value.nom),1),d("div",bl,[d("span",wl,F(l.value.categorie),1),d("span",xl,"T"+F(l.value.tier),1),l.value.unique?(w(),I("span",_l,"⭐ Unique")):j("",!0)]),l.value.description?(w(),I("p",Cl,F(l.value.description),1)):j("",!0),l.value.statistiques&&l.value.statistiques.length>0?(w(),I("div",kl,[x[8]||(x[8]=d("p",{class:"text-xs text-gray-400 mb-1"},"Statistiques principales :",-1)),d("div",Sl,[(w(!0),I(ye,null,Ae(l.value.statistiques.slice(0,3),S=>(w(),I("span",{key:S.attribut,class:"text-xs px-2 py-1 bg-blood-400/20 text-blood-300 rounded"},F(S.attribut)+": "+F(S.valeur)+F(S.est_pourcentage?"%":""),1))),128))])])):j("",!0)])])])):j("",!0),d("div",ql,[d("div",$l,[x[9]||(x[9]=d("label",{class:"text-sm font-medium text-gray-300 flex-shrink-0"},"Quantité :",-1)),d("div",Ol,[q(y,{modelValue:i.value,"onUpdate:modelValue":x[4]||(x[4]=S=>i.value=S),modelModifiers:{number:!0},type:"number",min:"1",max:"999",size:"sm",placeholder:"1",class:"text-center"},null,8,["modelValue"])])]),d("button",{onClick:f,disabled:!_.value,class:ae(["nav-button-modern group w-full flex items-center justify-center gap-3 px-6 py-4 text-lg font-bold tracking-wide transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",{"hover:scale-105":_.value}])},[q(p,{name:"i-mdi-plus",class:"w-6 h-6 text-blood-400 group-hover:text-blood-300 transition-colors"}),d("span",Pl," Ajouter ×"+F(i.value||1),1)],10,El)])])]),_:1})}}}),Ml={class:"space-y-6"},Tl={class:"grid grid-cols-4 sm:grid-cols-5 md:grid-cols-6 lg:grid-cols-8 gap-3"},Bl=["onClick"],Fl={class:"flex justify-center mb-2"},Ll={class:"relative"},Rl=["src","alt"],zl={key:1,class:"flex items-center justify-center w-full py-8"},Vl={key:2,class:"absolute -top-1 -right-1 w-4 h-4 bg-yellow-400 rounded-full flex items-center justify-center"},Wl={key:3,class:"absolute -top-1 -right-1 w-4 h-4 bg-purple-400 rounded-full flex items-center justify-center"},jl={class:"flex-1 flex flex-col justify-between text-center min-h-0"},Nl={class:"flex-1 flex items-center justify-center min-h-0"},Hl={class:"text-xs font-medium text-white leading-tight line-clamp-2 break-words px-1"},Kl={key:0,class:"mt-1"},Yl={class:"inline-block badge-blood text-xs px-1.5 py-0.5 rounded font-medium"},Ul={class:"flex items-start gap-4 mb-4"},Gl=["src","alt"],Ql={class:"flex-1 min-w-0"},Xl={class:"text-xl font-bold text-white mb-2"},Jl={class:"flex items-center gap-2 mb-2"},Zl={class:"chip chip--accent"},eu={key:0,class:"chip"},tu={key:1,class:"chip"},nu={key:0,class:"text-gray-300 text-sm leading-relaxed mb-4"},au={class:"flex gap-2 mb-4"},ru={key:1,class:"mb-4"},su={class:"space-y-1"},ou={class:"text-gray-400"},iu={class:"flex items-center gap-1"},lu={class:"text-white"},uu={class:"border-t border-blood/50 pt-4"},du={class:"flex items-center gap-2 mb-3"},cu={class:"flex-1"},fu={class:"space-y-4"},mu={class:"flex items-center justify-center mb-3"},pu={class:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-red-500/10 border border-red-500/20"},gu={class:"grid grid-cols-3 gap-1.5"},vu={class:"flex items-center justify-center mb-3"},hu={class:"flex items-center gap-1.5 px-3 py-1 rounded-full bg-green-500/10 border border-green-500/20"},yu={class:"grid grid-cols-3 gap-1.5"},bu={class:"mt-6 pt-4 border-t border-blood/50"},wu={key:2,class:"text-center mt-4 relative overflow-hidden"},xu={key:0,class:"flex items-center justify-center gap-2 text-blue-400"},_u={key:1,class:"relative shadow-none border-none",style:{"box-shadow":"none",border:"none"}},Cu={class:"relative flex items-center justify-center gap-2"},ku={class:"relative"},Su={key:2,class:"flex items-center justify-center gap-2 text-gray-400"},qu={key:0,class:"flex items-center justify-between mt-6 p-4 bg-gray-800/30 rounded-lg border border-gray-700/50"},$u={class:"flex items-center gap-2"},Ou={class:"flex items-center gap-2"},Eu={class:"text-sm font-medium text-white"},Pu={class:"text-sm font-medium text-white"},Au={class:"text-xs text-gray-500"},Iu="http://localhost:4000/images",Du=X({__name:"InventoryGrid",props:{chestSlots:{},selectedChestId:{},selectedChestName:{},chestEntries:{},selectedEntryIdx:{},editQuantity:{},quantityChanged:{type:Boolean},quantityLoading:{type:Boolean},quantityRecentlyChanged:{type:Boolean},saveAnimationStep:{},currentPage:{},totalPages:{}},emits:["slot-clicked","item-details-closed","quantity-changed","adjust-quantity","page-changed","remove-item","mark-new-item"],setup(e,{expose:n,emit:t}){const a=e,r=t;n({markItemAsNew:l});const s=P(new Set),i=P(new Map);function l(O,v){const V=`${O}-${v}`;s.value.add(V);const G=window.setTimeout(()=>{s.value.delete(V),i.value.delete(V)},3e3);i.value.set(V,G)}function u(O,v){if(!O||!O.item)return!1;const V=`${O.item._id}-${v}`;return s.value.has(V)}_t(()=>{i.value.forEach(O=>{clearTimeout(O)}),i.value.clear(),s.value.clear()});const m=P(null),c=P(null),f=(O,v)=>a.selectedEntryIdx===v;function g(O,v){if(!O||!O.item){m.value=null;return}m.value=m.value===v?null:v,r("slot-clicked",O,v)}function b(){m.value=null,r("item-details-closed")}const h=P(a.editQuantity||1);ge(()=>a.editQuantity,O=>{h.value=O||1}),ge(()=>a.selectedEntryIdx,O=>{m.value=O}),ge(()=>a.saveAnimationStep,async O=>{if(await Pe(),O===3){if(c.value&&"style"in c.value){const v=c.value;v.style.transition="all 0.5s cubic-bezier(0.4, 0, 0.2, 1)",v.style.opacity="0",v.style.transform="translateY(-20px) scale(0.9)",v.style.filter="blur(2px) brightness(0.9)"}}else if(O===2&&c.value&&"style"in c.value){const v=c.value;v.style.transition="all 0.5s cubic-bezier(0.4, 0, 0.2, 1)",v.style.opacity="1",v.style.transform="translateY(0) scale(1)",v.style.filter="blur(0px)"}});function _(O){var V;O.preventDefault();const v=h.value;!v||v<1||v===(a.selectedEntryIdx!==null&&((V=a.chestEntries[a.selectedEntryIdx])==null?void 0:V.quantity)||1)||r("quantity-changed",v)}function C(O){r("quantity-changed",O)}function x(O){r("adjust-quantity",O)}function p(){if(m.value!==null){const O=a.chestSlots[m.value];O&&O.item&&r("remove-item",O,m.value)}}function y(){a.currentPage<a.totalPages&&r("page-changed",a.currentPage+1)}function T(){a.currentPage>1&&r("page-changed",a.currentPage-1)}function S(O){const v=O==null?void 0:O.image_url;return v?v.startsWith("http")?v:`${Iu}${v}`:"/placeholder.png"}return(O,v)=>{const V=kt,G=St,M=ze;return w(),I("div",Ml,[d("div",Tl,[(w(!0),I(ye,null,Ae(O.chestSlots,(A,Y)=>{var se;return w(),I("div",{key:Y,class:"relative w-full"},[d("div",{class:ae(["border rounded-lg p-2 transition-all duration-200 h-[120px] flex flex-col",{"bg-gray-800/50 cursor-pointer slot-filled inventory-slot hover:scale-105 hover:shadow-lg hover:border-blood-400":A&&A.item,"inventory-slot--selected glow-accent":A&&A.item&&f(A,Y),"bg-gray-800/30 border-gray-600/40":!A||!A.item,"item-newly-added":A&&A.item&&u(A,Y)}]),onClick:U=>A&&A.item?g(A,Y):null},[d("div",Fl,[d("div",Ll,[A&&A.item?(w(),I("img",{key:0,src:S(A.item),alt:A.item.nom,class:"w-12 h-12 object-contain rounded"},null,8,Rl)):(w(),I("div",zl,[...v[8]||(v[8]=[jn('<div class="relative flex items-center justify-center"><div class="w-10 h-10 rounded-full border-2 border-gray-500/40 flex items-center justify-center"><span class="text-gray-400/60 font-bold text-xl select-none leading-none">+</span></div><div class="absolute -top-1 -left-1 w-0.5 h-0.5 bg-gray-500/30 rounded-full"></div><div class="absolute -top-1 -right-1 w-0.5 h-0.5 bg-gray-500/30 rounded-full"></div><div class="absolute -bottom-1 -left-1 w-0.5 h-0.5 bg-gray-500/30 rounded-full"></div><div class="absolute -bottom-1 -right-1 w-0.5 h-0.5 bg-gray-500/30 rounded-full"></div></div>',1)])])),(se=A==null?void 0:A.item)!=null&&se.unique?(w(),I("div",Vl,[...v[9]||(v[9]=[d("span",{class:"text-xs text-black font-bold"},"★",-1)])])):A!=null&&A.item&&A.item.tier>=3?(w(),I("div",Wl,[...v[10]||(v[10]=[d("span",{class:"text-xs text-white font-bold"},"◆",-1)])])):j("",!0)])]),d("div",jl,[d("div",Nl,[d("p",Hl,F(A&&A.item?A.item.nom:""),1)]),A&&A.item?(w(),I("div",Kl,[d("span",Yl," ×"+F(A.quantity||1),1)])):j("",!0)])],10,Bl),m.value===Y&&A&&A.item?(w(),I("div",{key:0,ref_for:!0,ref_key:"tooltipOverlay",ref:c,class:"fixed inset-0 backdrop-blur-sm z-50 flex items-center justify-center p-4 tooltip-manual",onClick:$e(b,["self"])},[d("div",{class:"tooltip-surface p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",style:hn({transition:"all 0.5s cubic-bezier(0.4, 0, 0.2, 1)",opacity:O.saveAnimationStep===3?0:1,transform:O.saveAnimationStep===3?"translateY(-20px) scale(0.9)":"translateY(0) scale(1)",filter:O.saveAnimationStep===3?"blur(2px) brightness(0.9)":"blur(0px) brightness(1)"})},[v[30]||(v[30]=d("div",{class:"bar-copper mb-4"},null,-1)),d("div",Ul,[d("img",{src:S(A.item),alt:A.item.nom,class:"w-20 h-20 object-contain rounded-lg bg-[rgba(12,14,20,0.35)] p-2 flex-shrink-0 ring-1 ring-[rgba(255,255,255,0.06)]"},null,8,Gl),d("div",Ql,[d("h3",Xl,F(A.item.nom),1),d("div",Jl,[d("span",Zl,"×"+F(A.quantity),1),A.item.tier?(w(),I("span",eu,"T"+F(A.item.tier),1)):j("",!0),A.item.categorie?(w(),I("span",tu,F(A.item.categorie),1)):j("",!0)])]),q(V,{onClick:b,icon:"i-mdi-close",color:"gray",variant:"ghost",size:"sm",class:"flex-shrink-0"})]),A.item.description?(w(),I("p",nu,F(A.item.description),1)):j("",!0),d("div",au,[A.item.url_fiche?(w(),D(V,{key:0,href:A.item.url_fiche,target:"_blank",icon:"i-mdi-open-in-new",color:"blue",variant:"outline",size:"sm"},{default:k(()=>[...v[11]||(v[11]=[N(" Voir la fiche ",-1)])]),_:2},1032,["href"])):(w(),D(V,{key:1,icon:"i-mdi-information-outline",color:"gray",variant:"outline",size:"sm",disabled:""},{default:k(()=>[...v[12]||(v[12]=[N(" Détails ",-1)])]),_:1}))]),A.item.statistiques&&A.item.statistiques.length>0?(w(),I("div",ru,[v[13]||(v[13]=d("h4",{class:"text-sm font-semibold text-white mb-2"},"Statistiques",-1)),d("div",su,[(w(!0),I(ye,null,Ae(A.item.statistiques,U=>(w(),I("div",{key:U.attribut,class:"flex items-center justify-between text-xs"},[d("span",ou,F(U.attribut),1),d("div",iu,[d("span",lu,F(U.valeur)+F(U.est_pourcentage?"%":""),1),d("span",null,F(U.mieux_plus_haut?"📈":"📉"),1)])]))),128))])])):j("",!0),d("div",uu,[v[15]||(v[15]=d("h4",{class:"text-sm font-semibold text-white mb-3"},"Modifier la quantité",-1)),d("div",du,[d("div",cu,[q(G,{modelValue:h.value,"onUpdate:modelValue":v[0]||(v[0]=U=>h.value=U),modelModifiers:{number:!0},type:"number",min:"1",max:"999",size:"sm",placeholder:"Qté",class:ae({"quantity-input-changed":O.quantityChanged}),onKeydown:be(_,["enter"])},null,8,["modelValue","class"])]),q(V,{onClick:v[1]||(v[1]=U=>C(h.value)),disabled:!h.value||h.value<1||h.value===((A==null?void 0:A.quantity)||1)||O.quantityLoading,icon:O.quantityLoading?"i-mdi-loading":"i-mdi-check",color:"blood",variant:"solid",size:"sm",class:ae(["quantity-button btn-blood",{"quantity-loading-icon":O.quantityLoading}])},{default:k(()=>[...v[14]||(v[14]=[N(" OK ",-1)])]),_:2},1032,["disabled","icon","class"])])]),d("div",fu,[d("div",null,[d("div",mu,[d("div",pu,[q(M,{name:"i-mdi-minus-circle",class:"w-3 h-3 text-red-400"}),v[16]||(v[16]=d("span",{class:"text-xs font-medium text-red-300"},"Ajustements",-1))])]),d("div",gu,[d("button",{onClick:v[2]||(v[2]=U=>x(-10)),class:"group flex flex-col items-center justify-center p-3 rounded-lg bg-gray-800/50 hover:bg-red-500/20 border border-gray-700/50 hover:border-red-400/50 transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",title:"Réduire de 10"},[q(M,{name:"i-mdi-minus",class:"w-4 h-4 text-red-400 group-hover:text-red-300 transition-colors duration-200"}),v[17]||(v[17]=d("span",{class:"text-xs font-medium text-gray-300 group-hover:text-red-200 mt-1 transition-colors duration-200"},"10",-1))]),d("button",{onClick:v[3]||(v[3]=U=>x(-5)),class:"group flex flex-col items-center justify-center p-3 rounded-lg bg-gray-800/50 hover:bg-red-500/20 border border-gray-700/50 hover:border-red-400/50 transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",title:"Réduire de 5"},[q(M,{name:"i-mdi-minus",class:"w-4 h-4 text-red-400 group-hover:text-red-300 transition-colors duration-200"}),v[18]||(v[18]=d("span",{class:"text-xs font-medium text-gray-300 group-hover:text-red-200 mt-1 transition-colors duration-200"},"5",-1))]),d("button",{onClick:v[4]||(v[4]=U=>x(-1)),class:"group flex flex-col items-center justify-center p-3 rounded-lg bg-gray-800/50 hover:bg-red-500/20 border border-gray-700/50 hover:border-red-400/50 transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",title:"Réduire de 1"},[q(M,{name:"i-mdi-minus",class:"w-4 h-4 text-red-400 group-hover:text-red-300 transition-colors duration-200"}),v[19]||(v[19]=d("span",{class:"text-xs font-medium text-gray-300 group-hover:text-red-200 mt-1 transition-colors duration-200"},"1",-1))])])]),d("div",null,[d("div",vu,[d("div",hu,[q(M,{name:"i-mdi-plus-circle",class:"w-3 h-3 text-green-400"}),v[20]||(v[20]=d("span",{class:"text-xs font-medium text-green-300"},"Ajustements",-1))])]),d("div",yu,[d("button",{onClick:v[5]||(v[5]=U=>x(1)),class:"group flex flex-col items-center justify-center p-3 rounded-lg bg-gray-800/50 hover:bg-green-500/20 border border-gray-700/50 hover:border-green-400/50 transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",title:"Augmenter de 1"},[q(M,{name:"i-mdi-plus",class:"w-4 h-4 text-green-400 group-hover:text-green-300 transition-colors duration-200"}),v[21]||(v[21]=d("span",{class:"text-xs font-medium text-gray-300 group-hover:text-green-200 mt-1 transition-colors duration-200"},"1",-1))]),d("button",{onClick:v[6]||(v[6]=U=>x(5)),class:"group flex flex-col items-center justify-center p-3 rounded-lg bg-gray-800/50 hover:bg-green-500/20 border border-gray-700/50 hover:border-green-400/50 transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",title:"Augmenter de 5"},[q(M,{name:"i-mdi-plus",class:"w-4 h-4 text-green-400 group-hover:text-green-300 transition-colors duration-200"}),v[22]||(v[22]=d("span",{class:"text-xs font-medium text-gray-300 group-hover:text-green-200 mt-1 transition-colors duration-200"},"5",-1))]),d("button",{onClick:v[7]||(v[7]=U=>x(10)),class:"group flex flex-col items-center justify-center p-3 rounded-lg bg-gray-800/50 hover:bg-green-500/20 border border-gray-700/50 hover:border-green-400/50 transition-all duration-200 hover:scale-[1.02] active:scale-[0.98]",title:"Augmenter de 10"},[q(M,{name:"i-mdi-plus",class:"w-4 h-4 text-green-400 group-hover:text-green-300 transition-colors duration-200"}),v[23]||(v[23]=d("span",{class:"text-xs font-medium text-gray-300 group-hover:text-green-200 mt-1 transition-colors duration-200"},"10",-1))])])]),d("div",bu,[q(V,{onClick:p,disabled:O.quantityLoading,icon:O.quantityLoading?"i-mdi-loading":"i-mdi-trash-can",color:"red",variant:"outline",block:"",size:"sm",class:"border-red-500 text-red-500 cursor-pointer disabled:cursor-not-allowed"},{default:k(()=>[N(F(O.quantityLoading?"Suppression...":"Supprimer"),1)]),_:1},8,["disabled","icon"])])]),O.saveAnimationStep>0?(w(),I("div",wu,[O.saveAnimationStep===1?(w(),I("div",xu,[q(M,{name:"i-mdi-loading",class:"w-5 h-5 animate-spin"}),v[24]||(v[24]=d("span",{class:"text-sm font-medium"},"Sauvegarde en cours...",-1))])):O.saveAnimationStep===2?(w(),I("div",_u,[v[27]||(v[27]=d("div",{class:"absolute inset-0 flex items-center justify-center"},[d("div",{class:"w-16 h-16 border-4 border-green-400/20 border-t-green-400 rounded-full animate-spin save-success-ring"})],-1)),d("div",Cu,[d("div",ku,[q(M,{name:"i-mdi-check-circle",class:"w-6 h-6 animate-pulse text-green-400"}),v[25]||(v[25]=d("div",{class:"absolute inset-0 bg-green-400/30 rounded-full animate-ping"},null,-1))]),v[26]||(v[26]=d("div",{class:"inline-block p-0 m-0 bg-transparent shadow-none border-none",style:{"box-shadow":"none",border:"none",outline:"none",background:"transparent"}},[d("span",{class:"text-sm font-medium animate-pulse text-green-400 shadow-none border-none",style:{"box-shadow":"none !important",border:"none !important",outline:"none !important",background:"transparent !important"}},"Changements sauvegardés !")],-1))]),v[28]||(v[28]=jn('<div class="absolute inset-0 pointer-events-none"><div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"><div class="w-1 h-1 bg-green-400 rounded-full save-success-particle" style="animation-delay:0.1s;"></div></div><div class="absolute top-1/3 left-1/3 transform -translate-x-1/2 -translate-y-1/2"><div class="w-1 h-1 bg-green-400 rounded-full save-success-particle" style="animation-delay:0.2s;"></div></div><div class="absolute top-2/3 left-2/3 transform -translate-x-1/2 -translate-y-1/2"><div class="w-1 h-1 bg-green-400 rounded-full save-success-particle" style="animation-delay:0.3s;"></div></div></div>',1))])):O.saveAnimationStep===3?(w(),I("div",Su,[q(M,{name:"i-mdi-eye-off",class:"w-5 h-5"}),v[29]||(v[29]=d("span",{class:"text-sm"},"Fermeture...",-1))])):j("",!0)])):j("",!0)],4)],512)):j("",!0)])}),128)),O.totalPages>1?(w(),I("div",qu,[d("div",$u,[q(V,{onClick:T,disabled:O.currentPage<=1,variant:"outline",size:"sm",color:"gray"},{default:k(()=>[q(M,{name:"i-mdi-chevron-left",class:"w-4 h-4"}),v[31]||(v[31]=N(" Précédent ",-1))]),_:1},8,["disabled"]),d("div",Ou,[v[32]||(v[32]=d("span",{class:"text-sm text-gray-400"},"Page",-1)),d("span",Eu,F(O.currentPage),1),v[33]||(v[33]=d("span",{class:"text-sm text-gray-400"},"sur",-1)),d("span",Pu,F(O.totalPages),1)]),q(V,{onClick:y,disabled:O.currentPage>=O.totalPages,variant:"outline",size:"sm",color:"gray"},{default:k(()=>[v[34]||(v[34]=N(" Suivant ",-1)),q(M,{name:"i-mdi-chevron-right",class:"w-4 h-4"})]),_:1},8,["disabled"])]),d("div",Au,F(O.chestEntries.length)+" items au total ",1)])):j("",!0)])])}}}),Mu={slots:{base:["relative group rounded-md inline-flex items-center focus:outline-none disabled:cursor-not-allowed disabled:opacity-75","transition-colors"],leading:"absolute inset-y-0 start-0 flex items-center",leadingIcon:"shrink-0 text-dimmed",leadingAvatar:"shrink-0",leadingAvatarSize:"",trailing:"absolute inset-y-0 end-0 flex items-center",trailingIcon:"shrink-0 text-dimmed",value:"truncate pointer-events-none",placeholder:"truncate text-dimmed",arrow:"fill-default",content:["max-h-60 w-(--reka-select-trigger-width) bg-default shadow-lg rounded-md ring ring-default overflow-hidden data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-select-content-transform-origin) pointer-events-auto flex flex-col","origin-(--reka-combobox-content-transform-origin) w-(--reka-combobox-trigger-width)"],viewport:"relative divide-y divide-default scroll-py-1 overflow-y-auto flex-1",group:"p-1 isolate",empty:"text-center text-muted",label:"font-semibold text-highlighted",separator:"-mx-1 my-1 h-px bg-border",item:["group relative w-full flex items-center select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-md data-disabled:cursor-not-allowed data-disabled:opacity-75 text-default data-highlighted:not-data-disabled:text-highlighted data-highlighted:not-data-disabled:before:bg-elevated/50","transition-colors before:transition-colors"],itemLeadingIcon:["shrink-0 text-dimmed group-data-highlighted:not-group-data-disabled:text-default","transition-colors"],itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemLeadingChip:"shrink-0",itemLeadingChipSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemLabel:"truncate",input:"border-b border-default",focusScope:"flex flex-col min-h-0"},variants:{buttonGroup:{horizontal:"not-only:first:rounded-e-none not-only:last:rounded-s-none not-last:not-first:rounded-none focus-visible:z-[1]",vertical:"not-only:first:rounded-b-none not-only:last:rounded-t-none not-last:not-first:rounded-none focus-visible:z-[1]"},size:{xs:{base:"px-2 py-1 text-xs gap-1",leading:"ps-2",trailing:"pe-2",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1 text-[10px]/3 gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",empty:"p-1 text-xs"},sm:{base:"px-2.5 py-1.5 text-xs gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-4",leadingAvatarSize:"3xs",trailingIcon:"size-4",label:"p-1.5 text-[10px]/3 gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemLeadingChip:"size-4",itemLeadingChipSize:"sm",itemTrailingIcon:"size-4",empty:"p-1.5 text-xs"},md:{base:"px-2.5 py-1.5 text-sm gap-1.5",leading:"ps-2.5",trailing:"pe-2.5",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",empty:"p-1.5 text-sm"},lg:{base:"px-3 py-2 text-sm gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-5",leadingAvatarSize:"2xs",trailingIcon:"size-5",label:"p-2 text-xs gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemLeadingChip:"size-5",itemLeadingChipSize:"md",itemTrailingIcon:"size-5",empty:"p-2 text-sm"},xl:{base:"px-3 py-2 text-base gap-2",leading:"ps-3",trailing:"pe-3",leadingIcon:"size-6",leadingAvatarSize:"xs",trailingIcon:"size-6",label:"p-2 text-sm gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemLeadingChip:"size-6",itemLeadingChipSize:"lg",itemTrailingIcon:"size-6",empty:"p-2 text-base"}},variant:{outline:"text-highlighted bg-default ring ring-inset ring-accented",soft:"text-highlighted bg-elevated/50 hover:bg-elevated focus:bg-elevated disabled:bg-elevated/50",subtle:"text-highlighted bg-elevated ring ring-inset ring-accented",ghost:"text-highlighted bg-transparent hover:bg-elevated focus:bg-elevated disabled:bg-transparent dark:disabled:bg-transparent",none:"text-highlighted bg-transparent"},color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},leading:{true:""},trailing:{true:""},loading:{true:""},highlight:{true:""},type:{file:"file:me-1.5 file:font-medium file:text-muted file:outline-none"}},compoundVariants:[{color:"primary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-primary"},{color:"secondary",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-secondary"},{color:"success",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-success"},{color:"info",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-info"},{color:"warning",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-warning"},{color:"error",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-error"},{color:"primary",highlight:!0,class:"ring ring-inset ring-primary"},{color:"secondary",highlight:!0,class:"ring ring-inset ring-secondary"},{color:"success",highlight:!0,class:"ring ring-inset ring-success"},{color:"info",highlight:!0,class:"ring ring-inset ring-info"},{color:"warning",highlight:!0,class:"ring ring-inset ring-warning"},{color:"error",highlight:!0,class:"ring ring-inset ring-error"},{color:"neutral",variant:["outline","subtle"],class:"focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-inverted"},{color:"neutral",highlight:!0,class:"ring ring-inset ring-inverted"},{leading:!0,size:"xs",class:"ps-7"},{leading:!0,size:"sm",class:"ps-8"},{leading:!0,size:"md",class:"ps-9"},{leading:!0,size:"lg",class:"ps-10"},{leading:!0,size:"xl",class:"ps-11"},{trailing:!0,size:"xs",class:"pe-7"},{trailing:!0,size:"sm",class:"pe-8"},{trailing:!0,size:"md",class:"pe-9"},{trailing:!0,size:"lg",class:"pe-10"},{trailing:!0,size:"xl",class:"pe-11"},{loading:!0,leading:!0,class:{leadingIcon:"animate-spin"}},{loading:!0,leading:!1,trailing:!0,class:{trailingIcon:"animate-spin"}}],defaultVariants:{size:"md",color:"primary",variant:"outline"}},Tu=Object.assign({inheritAttrs:!1},{__name:"SelectMenu",props:Nn({id:{type:String,required:!1},placeholder:{type:String,required:!1},searchInput:{type:[Boolean,Object],required:!1,default:!0},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},required:{type:Boolean,required:!1},trailingIcon:{type:String,required:!1},selectedIcon:{type:String,required:!1},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},valueKey:{type:null,required:!1},labelKey:{type:null,required:!1,default:"label"},items:{type:null,required:!1},defaultValue:{type:null,required:!1},modelValue:{type:null,required:!1},multiple:{type:Boolean,required:!1},highlight:{type:Boolean,required:!1},createItem:{type:[Boolean,String,Object],required:!1},filterFields:{type:Array,required:!1},ignoreFilter:{type:Boolean,required:!1},autofocus:{type:Boolean,required:!1},autofocusDelay:{type:Number,required:!1,default:0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},name:{type:String,required:!1},resetSearchTermOnBlur:{type:Boolean,required:!1,default:!0},resetSearchTermOnSelect:{type:Boolean,required:!1,default:!0},highlightOnHover:{type:Boolean,required:!1},icon:{type:String,required:!1},avatar:{type:Object,required:!1},leading:{type:Boolean,required:!1},leadingIcon:{type:String,required:!1},trailing:{type:Boolean,required:!1},loading:{type:Boolean,required:!1},loadingIcon:{type:String,required:!1}},{searchTerm:{type:String,default:""},searchTermModifiers:{}}),emits:Nn(["update:open","change","blur","focus","create","highlight","update:modelValue"],["update:searchTerm"]),setup(e,{expose:n,emit:t}){const a=e,r=t,s=ka(),i=xr(e,"searchTerm",{type:String,default:""}),{t:l}=Sa(),u=qa(),{contains:m}=Ia({sensitivity:"base"}),c=bn($a(a,"modelValue","defaultValue","open","defaultOpen","required","multiple","resetSearchTermOnBlur","resetSearchTermOnSelect","highlightOnHover"),r),f=Oa(ut(()=>a.portal)),g=ut(()=>Vt(a.content,{side:"bottom",sideOffset:8,collisionPadding:8,position:"popper"})),b=ut(()=>a.arrow),h=ut(()=>Vt(a.searchInput,{placeholder:l("selectMenu.search"),variant:"none"})),{emitFormBlur:_,emitFormFocus:C,emitFormInput:x,emitFormChange:p,size:y,color:T,id:S,name:O,highlight:v,disabled:V,ariaAttrs:G}=_r(a),{orientation:M,size:A}=Cr(a),{isLeading:Y,isTrailing:se,leadingIconName:U,trailingIconName:re}=kr(ut(()=>Vt(a,{trailingIcon:u.ui.icons.chevronDown}))),de=B(()=>A.value||y.value),[Q,te]=Mr(),z=B(()=>{var K;return jt({extend:jt(Mu),...((K=u.ui)==null?void 0:K.selectMenu)||{}})({color:T.value,variant:a.variant,size:de==null?void 0:de.value,loading:a.loading,highlight:v.value,leading:Y.value||!!a.avatar||!!s.leading,trailing:se.value||!!s.trailing,buttonGroup:M.value})});function Te(K){if(a.multiple&&Array.isArray(K)){const ne=K.map(oe=>Kn(Ce.value,oe,{labelKey:a.labelKey,valueKey:a.valueKey})).filter(oe=>oe!=null&&oe!=="");return ne.length>0?ne.join(", "):void 0}return Kn(Ce.value,K,{labelKey:a.labelKey,valueKey:a.valueKey})}const _e=B(()=>{var K;return(K=a.items)!=null&&K.length?Sr(a.items)?a.items:[a.items]:[]}),Ce=B(()=>_e.value.flatMap(K=>K)),Ee=B(()=>{if(a.ignoreFilter||!i.value)return _e.value;const K=Array.isArray(a.filterFields)?a.filterFields:[a.labelKey];return _e.value.map(ne=>ne.filter(oe=>oe==null?!1:typeof oe!="object"?m(String(oe),i.value):oe.type&&["label","separator"].includes(oe.type)?!0:K.some(ke=>{const ve=Bt(oe,ke);return ve!=null&&m(String(ve),i.value)}))).filter(ne=>ne.filter(oe=>!fe(oe)||!oe.type||!["label","separator"].includes(oe.type)).length>0)}),rt=B(()=>Ee.value.flatMap(K=>K)),Qe=B(()=>{if(!a.createItem||!i.value)return!1;const K=a.valueKey?{[a.valueKey]:i.value}:i.value;return typeof a.createItem=="object"&&a.createItem.when==="always"||a.createItem==="always"?!rt.value.find(ne=>qr(ne,K,a.valueKey)):!rt.value.length}),Xe=B(()=>typeof a.createItem=="object"?a.createItem.position:"bottom"),L=P(null);function J(){var K,ne;a.autofocus&&((ne=(K=L.value)==null?void 0:K.$el)==null||ne.focus({focusVisible:!0}))}Oe(()=>{setTimeout(()=>{J()},a.autofocusDelay)});function Z(K){if(Or(a.modelValue)===K)return;const ne=new Event("change",{target:{value:K}});r("change",ne),p(),x(),a.resetSearchTermOnSelect&&(i.value="")}function ue(K){let ne;if(K){const oe=new FocusEvent("focus");r("focus",oe),C(),clearTimeout(ne)}else{const oe=new FocusEvent("blur");r("blur",oe),_(),a.resetSearchTermOnBlur&&(ne=setTimeout(()=>{i.value=""},100))}}function me(K,ne){var oe;if(fe(ne)){if(ne.disabled){K.preventDefault();return}(oe=ne.onSelect)==null||oe.call(ne,K)}}function fe(K){return typeof K=="object"&&K!==null}return n({triggerRef:L}),(K,ne)=>(w(),I(ye,null,[q(o(Q),null,{default:k(()=>{var oe;return[q(o(la),{class:ae(z.value.group({class:(oe=a.ui)==null?void 0:oe.group}))},{default:k(()=>{var ke;return[q(o(ua),{class:ae(z.value.item({class:(ke=a.ui)==null?void 0:ke.item})),value:i.value,onSelect:ne[0]||(ne[0]=$e(ve=>r("create",i.value),["prevent"]))},{default:k(()=>{var ve;return[d("span",{class:ae(z.value.itemLabel({class:(ve=a.ui)==null?void 0:ve.itemLabel}))},[R(K.$slots,"create-item-label",{item:i.value},()=>[N(F(o(l)("selectMenu.create",{label:i.value})),1)])],2)]}),_:3},8,["class","value"])]}),_:3},8,["class"])]}),_:3}),q(o(bi),ee({id:o(S)},{...o(c),...K.$attrs,...o(G)},{"ignore-filter":"","as-child":"",name:o(O),disabled:o(V),"onUpdate:modelValue":Z,"onUpdate:open":ue}),{default:k(({modelValue:oe,open:ke})=>[q(o(Jo),{"as-child":""},{default:k(()=>{var ve;return[q(o(Ni),{ref_key:"triggerRef",ref:L,class:ae(z.value.base({class:[(ve=a.ui)==null?void 0:ve.base,a.class]})),tabindex:"0"},{default:k(()=>{var st,ot;return[o(Y)||e.avatar||s.leading?(w(),I("span",{key:0,class:ae(z.value.leading({class:(st=a.ui)==null?void 0:st.leading}))},[R(K.$slots,"leading",{modelValue:oe,open:ke,ui:z.value},()=>{var he,$,E;return[o(Y)&&o(U)?(w(),D(ze,{key:0,name:o(U),class:ae(z.value.leadingIcon({class:(he=a.ui)==null?void 0:he.leadingIcon}))},null,8,["name","class"])):e.avatar?(w(),D(Hn,ee({key:1,size:(($=a.ui)==null?void 0:$.itemLeadingAvatarSize)||z.value.itemLeadingAvatarSize()},e.avatar,{class:z.value.itemLeadingAvatar({class:(E=a.ui)==null?void 0:E.itemLeadingAvatar})}),null,16,["size","class"])):j("",!0)]})],2)):j("",!0),R(K.$slots,"default",{modelValue:oe,open:ke},()=>[(w(!0),I(ye,null,Ae([Te(oe)],he=>{var $,E;return w(),I(ye,{key:he},[he!=null?(w(),I("span",{key:0,class:ae(z.value.value({class:($=a.ui)==null?void 0:$.value}))},F(he),3)):(w(),I("span",{key:1,class:ae(z.value.placeholder({class:(E=a.ui)==null?void 0:E.placeholder}))},F(e.placeholder??" "),3))],64)}),128))]),o(se)||s.trailing?(w(),I("span",{key:1,class:ae(z.value.trailing({class:(ot=a.ui)==null?void 0:ot.trailing}))},[R(K.$slots,"trailing",{modelValue:oe,open:ke,ui:z.value},()=>{var he;return[o(re)?(w(),D(ze,{key:0,name:o(re),class:ae(z.value.trailingIcon({class:(he=a.ui)==null?void 0:he.trailingIcon}))},null,8,["name","class"])):j("",!0)]})],2)):j("",!0)]}),_:2},1032,["class"])]}),_:2},1024),q(o(zi),Ze(wt(o(f))),{default:k(()=>{var ve;return[q(o($i),ee({class:z.value.content({class:(ve=a.ui)==null?void 0:ve.content})},g.value),{default:k(()=>{var st,ot;return[q(o(Ta),{trapped:"",class:ae(z.value.focusScope({class:(st=a.ui)==null?void 0:st.focusScope}))},{default:k(()=>{var he,$;return[R(K.$slots,"content-top"),e.searchInput?(w(),D(o(Di),{key:0,modelValue:i.value,"onUpdate:modelValue":ne[1]||(ne[1]=E=>i.value=E),"display-value":()=>i.value,"as-child":""},{default:k(()=>{var E;return[q(St,ee({autofocus:"",autocomplete:"off",size:e.size},h.value,{class:z.value.input({class:(E=a.ui)==null?void 0:E.input})}),null,16,["size","class"])]}),_:1},8,["modelValue","display-value"])):j("",!0),q(o(Ei),{class:ae(z.value.empty({class:(he=a.ui)==null?void 0:he.empty}))},{default:k(()=>[R(K.$slots,"empty",{searchTerm:i.value},()=>[N(F(i.value?o(l)("selectMenu.noMatch",{searchTerm:i.value}):o(l)("selectMenu.noData")),1)])]),_:3},8,["class"]),d("div",{role:"presentation",class:ae(z.value.viewport({class:($=a.ui)==null?void 0:$.viewport}))},[Qe.value&&Xe.value==="top"?(w(),D(o(te),{key:0})):j("",!0),(w(!0),I(ye,null,Ae(Ee.value,(E,H)=>{var le;return w(),D(o(la),{key:`group-${H}`,class:ae(z.value.group({class:(le=a.ui)==null?void 0:le.group}))},{default:k(()=>[(w(!0),I(ye,null,Ae(E,(W,Be)=>{var Mt,Se,$n,On,En,Pn;return w(),I(ye,{key:`group-${H}-${Be}`},[fe(W)&&W.type==="label"?(w(),D(o(Li),{key:0,class:ae(z.value.label({class:[(Mt=a.ui)==null?void 0:Mt.label,(Se=W.ui)==null?void 0:Se.label,W.class]}))},{default:k(()=>[N(F(o(Bt)(W,a.labelKey)),1)]),_:2},1032,["class"])):fe(W)&&W.type==="separator"?(w(),D(o(Wi),{key:1,class:ae(z.value.separator({class:[($n=a.ui)==null?void 0:$n.separator,(On=W.ui)==null?void 0:On.separator,W.class]}))},null,8,["class"])):(w(),D(o(ua),{key:2,class:ae(z.value.item({class:[(En=a.ui)==null?void 0:En.item,fe(W)&&((Pn=W.ui)==null?void 0:Pn.item),fe(W)&&W.class]})),disabled:fe(W)&&W.disabled,value:a.valueKey&&fe(W)?o(Bt)(W,a.valueKey):W,onSelect:Tt=>me(Tt,W)},{default:k(()=>[R(K.$slots,"item",{item:W,index:Be},()=>{var Tt,An,In,Dn;return[R(K.$slots,"item-leading",{item:W,index:Be},()=>{var $t,Ot,Mn,Tn,Bn,Fn,Ln,Rn,zn;return[fe(W)&&W.icon?(w(),D(ze,{key:0,name:W.icon,class:ae(z.value.itemLeadingIcon({class:[($t=a.ui)==null?void 0:$t.itemLeadingIcon,(Ot=W.ui)==null?void 0:Ot.itemLeadingIcon]}))},null,8,["name","class"])):fe(W)&&W.avatar?(w(),D(Hn,ee({key:1,size:((Mn=W.ui)==null?void 0:Mn.itemLeadingAvatarSize)||((Tn=a.ui)==null?void 0:Tn.itemLeadingAvatarSize)||z.value.itemLeadingAvatarSize()},{ref_for:!0},W.avatar,{class:z.value.itemLeadingAvatar({class:[(Bn=a.ui)==null?void 0:Bn.itemLeadingAvatar,(Fn=W.ui)==null?void 0:Fn.itemLeadingAvatar]})}),null,16,["size","class"])):fe(W)&&W.chip?(w(),D($r,ee({key:2,size:((Ln=a.ui)==null?void 0:Ln.itemLeadingChipSize)||z.value.itemLeadingChipSize(),inset:"",standalone:""},{ref_for:!0},W.chip,{class:z.value.itemLeadingChip({class:[(Rn=a.ui)==null?void 0:Rn.itemLeadingChip,(zn=W.ui)==null?void 0:zn.itemLeadingChip]})}),null,16,["size","class"])):j("",!0)]}),d("span",{class:ae(z.value.itemLabel({class:[(Tt=a.ui)==null?void 0:Tt.itemLabel,fe(W)&&((An=W.ui)==null?void 0:An.itemLabel)]}))},[R(K.$slots,"item-label",{item:W,index:Be},()=>[N(F(fe(W)?o(Bt)(W,a.labelKey):W),1)])],2),d("span",{class:ae(z.value.itemTrailing({class:[(In=a.ui)==null?void 0:In.itemTrailing,fe(W)&&((Dn=W.ui)==null?void 0:Dn.itemTrailing)]}))},[R(K.$slots,"item-trailing",{item:W,index:Be}),q(o(Bi),{"as-child":""},{default:k(()=>{var $t,Ot;return[q(ze,{name:e.selectedIcon||o(u).ui.icons.check,class:ae(z.value.itemTrailingIcon({class:[($t=a.ui)==null?void 0:$t.itemTrailingIcon,fe(W)&&((Ot=W.ui)==null?void 0:Ot.itemTrailingIcon)]}))},null,8,["name","class"])]}),_:2},1024)],2)]})]),_:2},1032,["class","disabled","value","onSelect"]))],64)}),128))]),_:2},1032,["class"])}),128)),Qe.value&&Xe.value==="bottom"?(w(),D(o(te),{key:1})):j("",!0)],2),R(K.$slots,"content-bottom")]}),_:3},8,["class"]),e.arrow?(w(),D(o(Si),ee({key:0},b.value,{class:z.value.arrow({class:(ot=a.ui)==null?void 0:ot.arrow})}),null,16,["class"])):j("",!0)]}),_:3},16,["class"])]}),_:3},16)]),_:3},16,["id","name","disabled"])],64))}}),Bu={slots:{overlay:"fixed inset-0 bg-elevated/75",content:"fixed bg-default divide-y divide-default flex flex-col focus:outline-none",header:"flex items-center gap-1.5 p-4 sm:px-6 min-h-16",wrapper:"",body:"flex-1 overflow-y-auto p-4 sm:p-6",footer:"flex items-center gap-1.5 p-4 sm:px-6",title:"text-highlighted font-semibold",description:"mt-1 text-muted text-sm",close:"absolute top-4 end-4"},variants:{transition:{true:{overlay:"data-[state=open]:animate-[fade-in_200ms_ease-out] data-[state=closed]:animate-[fade-out_200ms_ease-in]",content:"data-[state=open]:animate-[scale-in_200ms_ease-out] data-[state=closed]:animate-[scale-out_200ms_ease-in]"}},fullscreen:{true:{content:"inset-0"},false:{content:"top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[calc(100vw-2rem)] max-w-lg max-h-[calc(100dvh-2rem)] sm:max-h-[calc(100dvh-4rem)] rounded-lg shadow-lg ring ring-default overflow-hidden"}}}},Fu={__name:"Modal",props:{title:{type:String,required:!1},description:{type:String,required:!1},content:{type:Object,required:!1},overlay:{type:Boolean,required:!1,default:!0},transition:{type:Boolean,required:!1,default:!0},fullscreen:{type:Boolean,required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},close:{type:[Boolean,Object],required:!1,default:!0},closeIcon:{type:String,required:!1},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},open:{type:Boolean,required:!1},defaultOpen:{type:Boolean,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["after:leave","after:enter","close:prevent","update:open"],setup(e,{emit:n}){const t=e,a=n,r=ka(),{t:s}=Sa(),i=qa(),l=bn($a(t,"open","defaultOpen","modal"),a),u=Oa(ut(()=>t.portal)),m=ut(()=>t.content),c=B(()=>{const g={closeAutoFocus:b=>b.preventDefault()};return t.dismissible?g:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((h,_)=>(h[_]=C=>{C.preventDefault(),a("close:prevent")},h),g)}),f=B(()=>{var g;return jt({extend:jt(Bu),...((g=i.ui)==null?void 0:g.modal)||{}})({transition:t.transition,fullscreen:t.fullscreen})});return(g,b)=>(w(),D(o(Jr),Ze(wt(o(l))),{default:k(({open:h,close:_})=>[r.default?(w(),D(o(_s),{key:0,"as-child":"",class:ae(t.class)},{default:k(()=>[R(g.$slots,"default",{open:h})]),_:2},1032,["class"])):j("",!0),q(o(bs),Ze(wt(o(u))),{default:k(()=>{var C,x;return[e.overlay?(w(),D(o(hs),{key:0,class:ae(f.value.overlay({class:(C=t.ui)==null?void 0:C.overlay}))},null,8,["class"])):j("",!0),q(o(fs),ee({class:f.value.content({class:[!r.default&&t.class,(x=t.ui)==null?void 0:x.content]})},m.value,{onAfterEnter:b[0]||(b[0]=p=>a("after:enter")),onAfterLeave:b[1]||(b[1]=p=>a("after:leave"))},Er(c.value)),{default:k(()=>[r.content&&(e.title||r.title||e.description||r.description)?(w(),D(o(_a),{key:0},{default:k(()=>[e.title||r.title?(w(),D(o(Gn),{key:0},{default:k(()=>[R(g.$slots,"title",{},()=>[N(F(e.title),1)])]),_:3})):j("",!0),e.description||r.description?(w(),D(o(Un),{key:1},{default:k(()=>[R(g.$slots,"description",{},()=>[N(F(e.description),1)])]),_:3})):j("",!0)]),_:3})):j("",!0),R(g.$slots,"content",{close:_},()=>{var p,y,T;return[r.header||e.title||r.title||e.description||r.description||t.close||r.close?(w(),I("div",{key:0,class:ae(f.value.header({class:(p=t.ui)==null?void 0:p.header}))},[R(g.$slots,"header",{close:_},()=>{var S,O,v;return[d("div",{class:ae(f.value.wrapper({class:(S=t.ui)==null?void 0:S.wrapper}))},[e.title||r.title?(w(),D(o(Gn),{key:0,class:ae(f.value.title({class:(O=t.ui)==null?void 0:O.title}))},{default:k(()=>[R(g.$slots,"title",{},()=>[N(F(e.title),1)])]),_:3},8,["class"])):j("",!0),e.description||r.description?(w(),D(o(Un),{key:1,class:ae(f.value.description({class:(v=t.ui)==null?void 0:v.description}))},{default:k(()=>[R(g.$slots,"description",{},()=>[N(F(e.description),1)])]),_:3},8,["class"])):j("",!0)],2),R(g.$slots,"actions"),t.close||r.close?(w(),D(o(es),{key:0,"as-child":""},{default:k(()=>[R(g.$slots,"close",{close:_,ui:f.value},()=>{var V;return[t.close?(w(),D(kt,ee({key:0,icon:e.closeIcon||o(i).ui.icons.close,color:"neutral",variant:"ghost","aria-label":o(s)("modal.close")},typeof t.close=="object"?t.close:{},{class:f.value.close({class:(V=t.ui)==null?void 0:V.close})}),null,16,["icon","aria-label","class"])):j("",!0)]})]),_:2},1024)):j("",!0)]})],2)):j("",!0),r.body?(w(),I("div",{key:1,class:ae(f.value.body({class:(y=t.ui)==null?void 0:y.body}))},[R(g.$slots,"body",{close:_})],2)):j("",!0),r.footer?(w(),I("div",{key:2,class:ae(f.value.footer({class:(T=t.ui)==null?void 0:T.footer}))},[R(g.$slots,"footer",{close:_})],2)):j("",!0)]})]),_:2},1040,["class"])]}),_:2},1040)]),_:3},16))}},Lu={class:"flex items-center gap-2",id:"rename-title"},Ru={class:"space-y-4"},zu={class:"text-xs text-gray-500 mt-1"},Vu={class:"flex gap-2"},Wu={class:"flex items-center gap-2 text-red-500",id:"delete-title"},ju={key:0,class:"space-y-4 mt-4"},Nu={class:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-200 dark:border-red-800"},Hu={class:"flex items-start gap-3"},Ku={class:"text-sm text-red-700 dark:text-red-300 mt-1"},Yu={key:0,class:"text-center"},Uu={class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800"},Gu={class:"flex gap-2 mt-6"},Qu={key:1,class:"space-y-4"},Xu={class:"grid grid-cols-2 gap-4 text-center"},Ju={class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800"},Zu={class:"text-sm text-blue-700 dark:text-blue-300 mt-1"},ed={class:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-200 dark:border-red-800"},td={class:"text-sm text-red-700 dark:text-red-300 mt-1"},nd={class:"flex gap-2"},ad={key:1,class:"space-y-4"},rd={class:"text-center"},sd={class:"text-sm text-gray-600 dark:text-gray-400 mt-2"},od={class:"space-y-2"},id={class:"flex gap-2"},ld={key:2,class:"space-y-4"},ud={class:"text-center"},dd={class:"text-sm text-gray-600 dark:text-gray-400 mt-2"},cd={class:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-200 dark:border-red-800 max-h-32 overflow-y-auto"},fd={class:"space-y-1"},md={key:0,class:"text-sm text-red-600 dark:text-red-400"},pd={class:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border border-yellow-200 dark:border-yellow-800"},gd={class:"flex items-start gap-3"},vd={class:"flex gap-2"},hd=X({__name:"ChestManagementModal",props:{modelValue:{type:Boolean},mode:{},selectedChest:{},selectedChestEntries:{},availableChests:{}},emits:["update:modelValue","confirm-rename","confirm-delete"],setup(e,{emit:n}){const t=e,a=n,r=B({get:()=>t.modelValue,set:x=>a("update:modelValue",x)}),s=P(!1),i=P(""),l=P(1),u=P(""),m=P(""),c=B(()=>t.availableChests.filter(x=>{var p;return x._id!==((p=t.selectedChest)==null?void 0:p._id)})),f=()=>{r.value=!1,g()},g=()=>{i.value="",l.value=1,u.value="",m.value="",s.value=!1},b=async()=>{var x;if(!(!i.value.trim()||i.value.trim()===((x=t.selectedChest)==null?void 0:x.name))){s.value=!0;try{await a("confirm-rename",i.value.trim()),f()}catch(p){console.error("Erreur lors du renommage:",p)}finally{s.value=!1}}},h=async()=>{s.value=!0;try{await a("confirm-delete",{confirmed:!0}),f()}catch(x){console.error("Erreur lors de la suppression:",x)}finally{s.value=!1}},_=async()=>{if(u.value){s.value=!0;try{await a("confirm-delete",{migrateTo:u.value,confirmed:!0}),f()}catch(x){console.error("Erreur lors de la migration et suppression:",x)}finally{s.value=!1}}},C=async()=>{if(m.value==="SUPPRIMER"){s.value=!0;try{await a("confirm-delete",{confirmed:!0}),f()}catch(x){console.error("Erreur lors de la suppression définitive:",x)}finally{s.value=!1}}};return ge(()=>t.mode,x=>{x==="rename"&&t.selectedChest&&(i.value=t.selectedChest.name)}),ge(r,x=>{x||g()}),(x,p)=>{const y=ze,T=St,S=kt,O=Gt,v=Tu,V=Fu;return w(),D(V,{modelValue:o(r),"onUpdate:modelValue":p[7]||(p[7]=G=>Re(r)?r.value=G:null),"prevent-close":""},{default:k(()=>[x.mode==="rename"?(w(),D(O,{key:0,class:"max-w-md",role:"dialog","aria-labelledby":"rename-title","aria-describedby":"rename-description"},{header:k(()=>[d("div",Lu,[q(y,{name:"i-mdi-pencil",class:"w-5 h-5 text-yellow-500"}),p[8]||(p[8]=d("h3",{class:"text-lg font-semibold"},"Renommer le coffre",-1))]),p[9]||(p[9]=d("p",{id:"rename-description",class:"text-sm text-gray-600 dark:text-gray-400 mt-2"}," Entrez un nouveau nom pour ce coffre ",-1))]),default:k(()=>{var G;return[d("div",Ru,[d("div",null,[p[10]||(p[10]=d("label",{class:"block text-sm font-medium mb-2"},"Nouveau nom",-1)),q(T,{modelValue:o(i),"onUpdate:modelValue":p[0]||(p[0]=M=>Re(i)?i.value=M:null),placeholder:"Entrez le nouveau nom...",maxlength:50,onKeyup:be(b,["enter"]),autofocus:""},null,8,["modelValue"]),d("p",zu,F(o(i).length)+"/50 caractères",1)]),d("div",Vu,[q(S,{onClick:b,disabled:!o(i).trim()||o(i).trim()===((G=x.selectedChest)==null?void 0:G.name),color:"yellow",variant:"solid",class:"flex-1",loading:o(s)},{default:k(()=>[...p[11]||(p[11]=[N(" Renommer ",-1)])]),_:1},8,["disabled","loading"]),q(S,{onClick:f,variant:"outline",color:"gray",class:"flex-1"},{default:k(()=>[...p[12]||(p[12]=[N(" Annuler ",-1)])]),_:1})])])]}),_:1})):x.mode==="delete"?(w(),D(O,{key:1,class:"max-w-lg",role:"dialog","aria-labelledby":"delete-title","aria-describedby":"delete-description"},{header:k(()=>[d("div",Wu,[q(y,{name:"i-mdi-delete",class:"w-5 h-5"}),p[13]||(p[13]=d("h3",{class:"text-lg font-semibold"},"Supprimer le coffre",-1))]),p[14]||(p[14]=d("p",{id:"delete-description",class:"text-sm text-gray-600 dark:text-gray-400 mt-2"}," Choisissez comment procéder avec le coffre sélectionné ",-1))]),default:k(()=>{var G;return[o(l)===1?(w(),I("div",ju,[d("div",Nu,[d("div",Hu,[q(y,{name:"i-mdi-alert-circle",class:"w-5 h-5 text-red-500 mt-0.5"}),d("div",null,[p[19]||(p[19]=d("h4",{class:"font-medium text-red-800 dark:text-red-200"},"Attention",-1)),d("p",Ku,[p[15]||(p[15]=N(" Vous êtes sur le point de supprimer le coffre ",-1)),d("strong",null,F((G=x.selectedChest)==null?void 0:G.name),1),p[16]||(p[16]=N(". Cette action est ",-1)),p[17]||(p[17]=d("strong",null,"irréversible",-1)),p[18]||(p[18]=N(". ",-1))])])])]),x.selectedChestEntries.length===0?(w(),I("div",Yu,[d("div",Uu,[q(y,{name:"i-mdi-check-circle",class:"w-8 h-8 text-green-500 mx-auto mb-2"}),p[20]||(p[20]=d("p",{class:"text-sm text-green-700 dark:text-green-300"}," Ce coffre est vide. Il peut être supprimé sans risque. ",-1))]),d("div",Gu,[q(S,{onClick:h,color:"red",variant:"solid",class:"flex-1",loading:o(s)},{default:k(()=>[...p[21]||(p[21]=[N(" Supprimer le coffre ",-1)])]),_:1},8,["loading"]),q(S,{onClick:f,variant:"outline",color:"gray",class:"flex-1"},{default:k(()=>[...p[22]||(p[22]=[N(" Annuler ",-1)])]),_:1})])])):(w(),I("div",Qu,[d("div",Xu,[d("div",Ju,[q(y,{name:"i-mdi-package-variant-closed",class:"w-8 h-8 text-blue-500 mx-auto mb-2"}),p[23]||(p[23]=d("h4",{class:"font-medium text-blue-800 dark:text-blue-200"},"Migrer les items",-1)),d("p",Zu," Déplacer "+F(x.selectedChestEntries.length)+" items vers un autre coffre ",1)]),d("div",ed,[q(y,{name:"i-mdi-delete-forever",class:"w-8 h-8 text-red-500 mx-auto mb-2"}),p[24]||(p[24]=d("h4",{class:"font-medium text-red-800 dark:text-red-200"},"Supprimer définitivement",-1)),d("p",td," Perdre "+F(x.selectedChestEntries.length)+" items définitivement ",1)])]),d("div",nd,[q(S,{onClick:p[1]||(p[1]=M=>l.value=2),color:"blue",variant:"solid",class:"flex-1"},{default:k(()=>[...p[25]||(p[25]=[N(" Migrer les items ",-1)])]),_:1}),q(S,{onClick:p[2]||(p[2]=M=>l.value=3),color:"red",variant:"solid",class:"flex-1"},{default:k(()=>[...p[26]||(p[26]=[N(" Supprimer définitivement ",-1)])]),_:1}),q(S,{onClick:f,variant:"outline",color:"gray",class:"flex-1"},{default:k(()=>[...p[27]||(p[27]=[N(" Annuler ",-1)])]),_:1})])]))])):j("",!0),o(l)===2?(w(),I("div",ad,[d("div",rd,[q(y,{name:"i-mdi-package-variant-closed",class:"w-12 h-12 text-blue-500 mx-auto mb-4"}),p[28]||(p[28]=d("h4",{class:"text-lg font-medium"},"Sélectionner le coffre de destination",-1)),d("p",sd," Les "+F(x.selectedChestEntries.length)+" items seront déplacés vers ce coffre. ",1)]),d("div",od,[p[29]||(p[29]=d("label",{class:"block text-sm font-medium"},"Coffre de destination",-1)),q(v,{modelValue:o(u),"onUpdate:modelValue":p[3]||(p[3]=M=>Re(u)?u.value=M:null),options:o(c),"option-attribute":"name","value-attribute":"_id",placeholder:"Choisir un coffre..."},null,8,["modelValue","options"])]),d("div",id,[q(S,{onClick:_,disabled:!o(u),color:"blue",variant:"solid",class:"flex-1",loading:o(s)},{default:k(()=>[...p[30]||(p[30]=[N(" Migrer et supprimer ",-1)])]),_:1},8,["disabled","loading"]),q(S,{onClick:p[4]||(p[4]=M=>l.value=1),variant:"outline",color:"gray",class:"flex-1"},{default:k(()=>[...p[31]||(p[31]=[N(" Retour ",-1)])]),_:1})])])):j("",!0),o(l)===3?(w(),I("div",ld,[d("div",ud,[q(y,{name:"i-mdi-alert-circle",class:"w-12 h-12 text-red-500 mx-auto mb-4"}),p[34]||(p[34]=d("h4",{class:"text-lg font-medium text-red-600 dark:text-red-400"},"SUPPRESSION DÉFINITIVE",-1)),d("p",dd,[N(" Les "+F(x.selectedChestEntries.length)+" items suivants seront ",1),p[32]||(p[32]=d("strong",null,"perdus définitivement",-1)),p[33]||(p[33]=N(" : ",-1))])]),d("div",cd,[d("div",fd,[(w(!0),I(ye,null,Ae(x.selectedChestEntries.slice(0,5),M=>{var A;return w(),I("div",{key:M._id,class:"text-sm text-red-700 dark:text-red-300"}," • "+F(((A=M.item)==null?void 0:A.nom)||"Item inconnu")+" (x"+F(M.quantity)+") ",1)}),128)),x.selectedChestEntries.length>5?(w(),I("div",md," ... et "+F(x.selectedChestEntries.length-5)+" autres items ",1)):j("",!0)])]),d("div",pd,[d("div",gd,[q(y,{name:"i-mdi-alert",class:"w-5 h-5 text-yellow-500 mt-0.5"}),p[35]||(p[35]=d("div",null,[d("h4",{class:"font-medium text-yellow-800 dark:text-yellow-200"},"Dernière confirmation"),d("p",{class:"text-sm text-yellow-700 dark:text-yellow-300 mt-1"},[N(" Tapez "),d("strong",null,'"SUPPRIMER"'),N(" pour confirmer la suppression définitive : ")])],-1))]),q(T,{modelValue:o(m),"onUpdate:modelValue":p[5]||(p[5]=M=>Re(m)?m.value=M:null),placeholder:"Tapez SUPPRIMER...",class:"mt-2",onKeyup:be(C,["enter"]),autofocus:""},null,8,["modelValue"])]),d("div",vd,[q(S,{onClick:C,disabled:o(m)!=="SUPPRIMER",color:"red",variant:"solid",class:"flex-1",loading:o(s)},{default:k(()=>[...p[36]||(p[36]=[N(" SUPPRIMER DÉFINITIVEMENT ",-1)])]),_:1},8,["disabled","loading"]),q(S,{onClick:p[6]||(p[6]=M=>l.value=1),variant:"outline",color:"gray",class:"flex-1"},{default:k(()=>[...p[37]||(p[37]=[N(" Retour ",-1)])]),_:1})])])):j("",!0)]}),_:1})):j("",!0)]),_:1},8,["modelValue"])}}}),Ga=6048e5,yd=864e5,da=Symbol.for("constructDateFrom");function nt(e,n){return typeof e=="function"?e(n):e&&typeof e=="object"&&da in e?e[da](n):e instanceof Date?new e.constructor(n):new Date(n)}function Me(e,n){return nt(n||e,e)}let bd={};function tn(){return bd}function It(e,n){var l,u,m,c;const t=tn(),a=(n==null?void 0:n.weekStartsOn)??((u=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??t.weekStartsOn??((c=(m=t.locale)==null?void 0:m.options)==null?void 0:c.weekStartsOn)??0,r=Me(e,n==null?void 0:n.in),s=r.getDay(),i=(s<a?7:0)+s-a;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function Yt(e,n){return It(e,{...n,weekStartsOn:1})}function Qa(e,n){const t=Me(e,n==null?void 0:n.in),a=t.getFullYear(),r=nt(t,0);r.setFullYear(a+1,0,4),r.setHours(0,0,0,0);const s=Yt(r),i=nt(t,0);i.setFullYear(a,0,4),i.setHours(0,0,0,0);const l=Yt(i);return t.getTime()>=s.getTime()?a+1:t.getTime()>=l.getTime()?a:a-1}function ca(e){const n=Me(e),t=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return t.setUTCFullYear(n.getFullYear()),+e-+t}function wd(e,...n){const t=nt.bind(null,n.find(a=>typeof a=="object"));return n.map(t)}function fa(e,n){const t=Me(e,n==null?void 0:n.in);return t.setHours(0,0,0,0),t}function xd(e,n,t){const[a,r]=wd(t==null?void 0:t.in,e,n),s=fa(a),i=fa(r),l=+s-ca(s),u=+i-ca(i);return Math.round((l-u)/yd)}function _d(e,n){const t=Qa(e,n),a=nt(e,0);return a.setFullYear(t,0,4),a.setHours(0,0,0,0),Yt(a)}function Cd(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function kd(e){return!(!Cd(e)&&typeof e!="number"||isNaN(+Me(e)))}function Sd(e,n){const t=Me(e,n==null?void 0:n.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const qd={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$d=(e,n,t)=>{let a;const r=qd[e];return typeof r=="string"?a=r:n===1?a=r.one:a=r.other.replace("{{count}}",n.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+a:a+" ago":a};function yt(e){return(n={})=>{const t=n.width?String(n.width):e.defaultWidth;return e.formats[t]||e.formats[e.defaultWidth]}}const Od={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ed={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Pd={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ad={date:yt({formats:Od,defaultWidth:"full"}),time:yt({formats:Ed,defaultWidth:"full"}),dateTime:yt({formats:Pd,defaultWidth:"full"})},Id={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Dd=(e,n,t,a)=>Id[e];function Fe(e){return(n,t)=>{const a=t!=null&&t.context?String(t.context):"standalone";let r;if(a==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=t!=null&&t.width?String(t.width):i;r=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=t!=null&&t.width?String(t.width):e.defaultWidth;r=e.values[l]||e.values[i]}const s=e.argumentCallback?e.argumentCallback(n):n;return r[s]}}const Md={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Td={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Bd={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Fd={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ld={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Rd={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zd=(e,n)=>{const t=Number(e),a=t%100;if(a>20||a<10)switch(a%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},Vd={ordinalNumber:zd,era:Fe({values:Md,defaultWidth:"wide"}),quarter:Fe({values:Td,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fe({values:Bd,defaultWidth:"wide"}),day:Fe({values:Fd,defaultWidth:"wide"}),dayPeriod:Fe({values:Ld,defaultWidth:"wide",formattingValues:Rd,defaultFormattingWidth:"wide"})};function Le(e){return(n,t={})=>{const a=t.width,r=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=n.match(r);if(!s)return null;const i=s[0],l=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?jd(l,f=>f.test(i)):Wd(l,f=>f.test(i));let m;m=e.valueCallback?e.valueCallback(u):u,m=t.valueCallback?t.valueCallback(m):m;const c=n.slice(i.length);return{value:m,rest:c}}}function Wd(e,n){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&n(e[t]))return t}function jd(e,n){for(let t=0;t<e.length;t++)if(n(e[t]))return t}function Xa(e){return(n,t={})=>{const a=n.match(e.matchPattern);if(!a)return null;const r=a[0],s=n.match(e.parsePattern);if(!s)return null;let i=e.valueCallback?e.valueCallback(s[0]):s[0];i=t.valueCallback?t.valueCallback(i):i;const l=n.slice(r.length);return{value:i,rest:l}}}const Nd=/^(\d+)(th|st|nd|rd)?/i,Hd=/\d+/i,Kd={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Yd={any:[/^b/i,/^(a|c)/i]},Ud={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Gd={any:[/1/i,/2/i,/3/i,/4/i]},Qd={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Xd={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Jd={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Zd={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},ec={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},tc={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},nc={ordinalNumber:Xa({matchPattern:Nd,parsePattern:Hd,valueCallback:e=>parseInt(e,10)}),era:Le({matchPatterns:Kd,defaultMatchWidth:"wide",parsePatterns:Yd,defaultParseWidth:"any"}),quarter:Le({matchPatterns:Ud,defaultMatchWidth:"wide",parsePatterns:Gd,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Le({matchPatterns:Qd,defaultMatchWidth:"wide",parsePatterns:Xd,defaultParseWidth:"any"}),day:Le({matchPatterns:Jd,defaultMatchWidth:"wide",parsePatterns:Zd,defaultParseWidth:"any"}),dayPeriod:Le({matchPatterns:ec,defaultMatchWidth:"any",parsePatterns:tc,defaultParseWidth:"any"})},ac={code:"en-US",formatDistance:$d,formatLong:Ad,formatRelative:Dd,localize:Vd,match:nc,options:{weekStartsOn:0,firstWeekContainsDate:1}};function rc(e,n){const t=Me(e,n==null?void 0:n.in);return xd(t,Sd(t))+1}function sc(e,n){const t=Me(e,n==null?void 0:n.in),a=+Yt(t)-+_d(t);return Math.round(a/Ga)+1}function Ja(e,n){var c,f,g,b;const t=Me(e,n==null?void 0:n.in),a=t.getFullYear(),r=tn(),s=(n==null?void 0:n.firstWeekContainsDate)??((f=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((b=(g=r.locale)==null?void 0:g.options)==null?void 0:b.firstWeekContainsDate)??1,i=nt((n==null?void 0:n.in)||e,0);i.setFullYear(a+1,0,s),i.setHours(0,0,0,0);const l=It(i,n),u=nt((n==null?void 0:n.in)||e,0);u.setFullYear(a,0,s),u.setHours(0,0,0,0);const m=It(u,n);return+t>=+l?a+1:+t>=+m?a:a-1}function oc(e,n){var l,u,m,c;const t=tn(),a=(n==null?void 0:n.firstWeekContainsDate)??((u=(l=n==null?void 0:n.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??t.firstWeekContainsDate??((c=(m=t.locale)==null?void 0:m.options)==null?void 0:c.firstWeekContainsDate)??1,r=Ja(e,n),s=nt((n==null?void 0:n.in)||e,0);return s.setFullYear(r,0,a),s.setHours(0,0,0,0),It(s,n)}function ic(e,n){const t=Me(e,n==null?void 0:n.in),a=+It(t,n)-+oc(t,n);return Math.round(a/Ga)+1}function ie(e,n){const t=e<0?"-":"",a=Math.abs(e).toString().padStart(n,"0");return t+a}const Je={y(e,n){const t=e.getFullYear(),a=t>0?t:1-t;return ie(n==="yy"?a%100:a,n.length)},M(e,n){const t=e.getMonth();return n==="M"?String(t+1):ie(t+1,2)},d(e,n){return ie(e.getDate(),n.length)},a(e,n){const t=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(e,n){return ie(e.getHours()%12||12,n.length)},H(e,n){return ie(e.getHours(),n.length)},m(e,n){return ie(e.getMinutes(),n.length)},s(e,n){return ie(e.getSeconds(),n.length)},S(e,n){const t=n.length,a=e.getMilliseconds(),r=Math.trunc(a*Math.pow(10,t-3));return ie(r,n.length)}},pt={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ma={G:function(e,n,t){const a=e.getFullYear()>0?1:0;switch(n){case"G":case"GG":case"GGG":return t.era(a,{width:"abbreviated"});case"GGGGG":return t.era(a,{width:"narrow"});case"GGGG":default:return t.era(a,{width:"wide"})}},y:function(e,n,t){if(n==="yo"){const a=e.getFullYear(),r=a>0?a:1-a;return t.ordinalNumber(r,{unit:"year"})}return Je.y(e,n)},Y:function(e,n,t,a){const r=Ja(e,a),s=r>0?r:1-r;if(n==="YY"){const i=s%100;return ie(i,2)}return n==="Yo"?t.ordinalNumber(s,{unit:"year"}):ie(s,n.length)},R:function(e,n){const t=Qa(e);return ie(t,n.length)},u:function(e,n){const t=e.getFullYear();return ie(t,n.length)},Q:function(e,n,t){const a=Math.ceil((e.getMonth()+1)/3);switch(n){case"Q":return String(a);case"QQ":return ie(a,2);case"Qo":return t.ordinalNumber(a,{unit:"quarter"});case"QQQ":return t.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,n,t){const a=Math.ceil((e.getMonth()+1)/3);switch(n){case"q":return String(a);case"qq":return ie(a,2);case"qo":return t.ordinalNumber(a,{unit:"quarter"});case"qqq":return t.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,n,t){const a=e.getMonth();switch(n){case"M":case"MM":return Je.M(e,n);case"Mo":return t.ordinalNumber(a+1,{unit:"month"});case"MMM":return t.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(a,{width:"wide",context:"formatting"})}},L:function(e,n,t){const a=e.getMonth();switch(n){case"L":return String(a+1);case"LL":return ie(a+1,2);case"Lo":return t.ordinalNumber(a+1,{unit:"month"});case"LLL":return t.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(a,{width:"wide",context:"standalone"})}},w:function(e,n,t,a){const r=ic(e,a);return n==="wo"?t.ordinalNumber(r,{unit:"week"}):ie(r,n.length)},I:function(e,n,t){const a=sc(e);return n==="Io"?t.ordinalNumber(a,{unit:"week"}):ie(a,n.length)},d:function(e,n,t){return n==="do"?t.ordinalNumber(e.getDate(),{unit:"date"}):Je.d(e,n)},D:function(e,n,t){const a=rc(e);return n==="Do"?t.ordinalNumber(a,{unit:"dayOfYear"}):ie(a,n.length)},E:function(e,n,t){const a=e.getDay();switch(n){case"E":case"EE":case"EEE":return t.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(a,{width:"short",context:"formatting"});case"EEEE":default:return t.day(a,{width:"wide",context:"formatting"})}},e:function(e,n,t,a){const r=e.getDay(),s=(r-a.weekStartsOn+8)%7||7;switch(n){case"e":return String(s);case"ee":return ie(s,2);case"eo":return t.ordinalNumber(s,{unit:"day"});case"eee":return t.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(r,{width:"short",context:"formatting"});case"eeee":default:return t.day(r,{width:"wide",context:"formatting"})}},c:function(e,n,t,a){const r=e.getDay(),s=(r-a.weekStartsOn+8)%7||7;switch(n){case"c":return String(s);case"cc":return ie(s,n.length);case"co":return t.ordinalNumber(s,{unit:"day"});case"ccc":return t.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(r,{width:"narrow",context:"standalone"});case"cccccc":return t.day(r,{width:"short",context:"standalone"});case"cccc":default:return t.day(r,{width:"wide",context:"standalone"})}},i:function(e,n,t){const a=e.getDay(),r=a===0?7:a;switch(n){case"i":return String(r);case"ii":return ie(r,n.length);case"io":return t.ordinalNumber(r,{unit:"day"});case"iii":return t.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(a,{width:"short",context:"formatting"});case"iiii":default:return t.day(a,{width:"wide",context:"formatting"})}},a:function(e,n,t){const r=e.getHours()/12>=1?"pm":"am";switch(n){case"a":case"aa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,n,t){const a=e.getHours();let r;switch(a===12?r=pt.noon:a===0?r=pt.midnight:r=a/12>=1?"pm":"am",n){case"b":case"bb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,n,t){const a=e.getHours();let r;switch(a>=17?r=pt.evening:a>=12?r=pt.afternoon:a>=4?r=pt.morning:r=pt.night,n){case"B":case"BB":case"BBB":return t.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,n,t){if(n==="ho"){let a=e.getHours()%12;return a===0&&(a=12),t.ordinalNumber(a,{unit:"hour"})}return Je.h(e,n)},H:function(e,n,t){return n==="Ho"?t.ordinalNumber(e.getHours(),{unit:"hour"}):Je.H(e,n)},K:function(e,n,t){const a=e.getHours()%12;return n==="Ko"?t.ordinalNumber(a,{unit:"hour"}):ie(a,n.length)},k:function(e,n,t){let a=e.getHours();return a===0&&(a=24),n==="ko"?t.ordinalNumber(a,{unit:"hour"}):ie(a,n.length)},m:function(e,n,t){return n==="mo"?t.ordinalNumber(e.getMinutes(),{unit:"minute"}):Je.m(e,n)},s:function(e,n,t){return n==="so"?t.ordinalNumber(e.getSeconds(),{unit:"second"}):Je.s(e,n)},S:function(e,n){return Je.S(e,n)},X:function(e,n,t){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(n){case"X":return ga(a);case"XXXX":case"XX":return lt(a);case"XXXXX":case"XXX":default:return lt(a,":")}},x:function(e,n,t){const a=e.getTimezoneOffset();switch(n){case"x":return ga(a);case"xxxx":case"xx":return lt(a);case"xxxxx":case"xxx":default:return lt(a,":")}},O:function(e,n,t){const a=e.getTimezoneOffset();switch(n){case"O":case"OO":case"OOO":return"GMT"+pa(a,":");case"OOOO":default:return"GMT"+lt(a,":")}},z:function(e,n,t){const a=e.getTimezoneOffset();switch(n){case"z":case"zz":case"zzz":return"GMT"+pa(a,":");case"zzzz":default:return"GMT"+lt(a,":")}},t:function(e,n,t){const a=Math.trunc(+e/1e3);return ie(a,n.length)},T:function(e,n,t){return ie(+e,n.length)}};function pa(e,n=""){const t=e>0?"-":"+",a=Math.abs(e),r=Math.trunc(a/60),s=a%60;return s===0?t+String(r):t+String(r)+n+ie(s,2)}function ga(e,n){return e%60===0?(e>0?"-":"+")+ie(Math.abs(e)/60,2):lt(e,n)}function lt(e,n=""){const t=e>0?"-":"+",a=Math.abs(e),r=ie(Math.trunc(a/60),2),s=ie(a%60,2);return t+r+n+s}const va=(e,n)=>{switch(e){case"P":return n.date({width:"short"});case"PP":return n.date({width:"medium"});case"PPP":return n.date({width:"long"});case"PPPP":default:return n.date({width:"full"})}},Za=(e,n)=>{switch(e){case"p":return n.time({width:"short"});case"pp":return n.time({width:"medium"});case"ppp":return n.time({width:"long"});case"pppp":default:return n.time({width:"full"})}},lc=(e,n)=>{const t=e.match(/(P+)(p+)?/)||[],a=t[1],r=t[2];if(!r)return va(e,n);let s;switch(a){case"P":s=n.dateTime({width:"short"});break;case"PP":s=n.dateTime({width:"medium"});break;case"PPP":s=n.dateTime({width:"long"});break;case"PPPP":default:s=n.dateTime({width:"full"});break}return s.replace("{{date}}",va(a,n)).replace("{{time}}",Za(r,n))},uc={p:Za,P:lc},dc=/^D+$/,cc=/^Y+$/,fc=["D","DD","YY","YYYY"];function mc(e){return dc.test(e)}function pc(e){return cc.test(e)}function gc(e,n,t){const a=vc(e,n,t);if(console.warn(a),fc.includes(e))throw new RangeError(a)}function vc(e,n,t){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${n}\`) for formatting ${a} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hc=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,yc=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bc=/^'([^]*?)'?$/,wc=/''/g,xc=/[a-zA-Z]/;function _c(e,n,t){var c,f,g,b,h,_,C,x;const a=tn(),r=(t==null?void 0:t.locale)??a.locale??ac,s=(t==null?void 0:t.firstWeekContainsDate)??((f=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??a.firstWeekContainsDate??((b=(g=a.locale)==null?void 0:g.options)==null?void 0:b.firstWeekContainsDate)??1,i=(t==null?void 0:t.weekStartsOn)??((_=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:_.weekStartsOn)??a.weekStartsOn??((x=(C=a.locale)==null?void 0:C.options)==null?void 0:x.weekStartsOn)??0,l=Me(e,t==null?void 0:t.in);if(!kd(l))throw new RangeError("Invalid time value");let u=n.match(yc).map(p=>{const y=p[0];if(y==="p"||y==="P"){const T=uc[y];return T(p,r.formatLong)}return p}).join("").match(hc).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const y=p[0];if(y==="'")return{isToken:!1,value:Cc(p)};if(ma[y])return{isToken:!0,value:p};if(y.match(xc))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:p}});r.localize.preprocessor&&(u=r.localize.preprocessor(l,u));const m={firstWeekContainsDate:s,weekStartsOn:i,locale:r};return u.map(p=>{if(!p.isToken)return p.value;const y=p.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&pc(y)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&mc(y))&&gc(y,n,String(e));const T=ma[y[0]];return T(l,y,r.localize,m)}).join("")}function Cc(e){const n=e.match(bc);return n?n[1].replace(wc,"'"):e}const kc={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},Sc=(e,n,t)=>{let a;const r=kc[e];return typeof r=="string"?a=r:n===1?a=r.one:a=r.other.replace("{{count}}",String(n)),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"dans "+a:"il y a "+a:a},qc={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},$c={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Oc={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ec={date:yt({formats:qc,defaultWidth:"full"}),time:yt({formats:$c,defaultWidth:"full"}),dateTime:yt({formats:Oc,defaultWidth:"full"})},Pc={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},Ac=(e,n,t,a)=>Pc[e],Ic={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},Dc={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},Mc={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},Tc={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},Bc={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},Fc=(e,n)=>{const t=Number(e),a=n==null?void 0:n.unit;if(t===0)return"0";const r=["year","week","hour","minute","second"];let s;return t===1?s=a&&r.includes(a)?"ère":"er":s="ème",t+s},Lc=["MMM","MMMM"],Rc={preprocessor:(e,n)=>e.getDate()===1||!n.some(a=>a.isToken&&Lc.includes(a.value))?n:n.map(a=>a.isToken&&a.value==="do"?{isToken:!0,value:"d"}:a),ordinalNumber:Fc,era:Fe({values:Ic,defaultWidth:"wide"}),quarter:Fe({values:Dc,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Fe({values:Mc,defaultWidth:"wide"}),day:Fe({values:Tc,defaultWidth:"wide"}),dayPeriod:Fe({values:Bc,defaultWidth:"wide"})},zc=/^(\d+)(ième|ère|ème|er|e)?/i,Vc=/\d+/i,Wc={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},jc={any:[/^av/i,/^ap/i]},Nc={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},Hc={any:[/1/i,/2/i,/3/i,/4/i]},Kc={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},Yc={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},Uc={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},Gc={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},Qc={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},Xc={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},Jc={ordinalNumber:Xa({matchPattern:zc,parsePattern:Vc,valueCallback:e=>parseInt(e)}),era:Le({matchPatterns:Wc,defaultMatchWidth:"wide",parsePatterns:jc,defaultParseWidth:"any"}),quarter:Le({matchPatterns:Nc,defaultMatchWidth:"wide",parsePatterns:Hc,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Le({matchPatterns:Kc,defaultMatchWidth:"wide",parsePatterns:Yc,defaultParseWidth:"any"}),day:Le({matchPatterns:Uc,defaultMatchWidth:"wide",parsePatterns:Gc,defaultParseWidth:"any"}),dayPeriod:Le({matchPatterns:Qc,defaultMatchWidth:"any",parsePatterns:Xc,defaultParseWidth:"any"})},Zc={code:"fr",formatDistance:Sc,formatLong:Ec,formatRelative:Ac,localize:Rc,match:Jc,options:{weekStartsOn:1,firstWeekContainsDate:4}},ef={class:"chest-management-overlay p-6 max-w-lg w-full max-h-[80vh] overflow-y-auto"},tf={class:"flex items-start gap-4 mb-6"},nf={class:"w-20 h-20 bg-[rgba(12,14,20,0.35)] rounded-lg flex items-center justify-center ring-1 ring-[rgba(255,255,255,0.06)] flex-shrink-0"},af={class:"flex-1 min-w-0"},rf={class:"text-xl font-bold text-white mb-2"},sf={class:"flex items-center gap-2 mb-2"},of={class:"chip chip--accent"},lf={class:"chip"},uf={class:"text-sm text-gray-400"},df={class:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6"},cf={key:0,class:"border-t border-[rgba(255,255,255,0.1)] pt-6 mb-6"},ff={class:"text-lg font-semibold text-white mb-4 flex items-center gap-2"},mf={class:"space-y-4"},pf={class:"text-xs text-gray-500"},gf={class:"flex gap-2"},vf={key:1,class:"border-t border-[rgba(255,255,255,0.1)] pt-6"},hf={class:"text-lg font-semibold text-red-400 mb-4 flex items-center gap-2"},yf={key:0,class:"space-y-4"},bf={class:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800"},wf={class:"flex items-start gap-3"},xf={class:"flex gap-2"},_f={key:1,class:"space-y-4"},Cf={class:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-200 dark:border-red-800"},kf={class:"flex items-start gap-3"},Sf={class:"text-sm text-red-700 dark:text-red-300 mt-1"},qf={class:"space-y-4"},$f={key:0,class:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg border border-blue-200 dark:border-blue-800"},Of=["value"],Ef={class:"flex gap-2 mt-3"},Pf={key:1,class:"grid grid-cols-1 sm:grid-cols-2 gap-3"},Af=X({__name:"ChestManagementDialog",props:{isVisible:{type:Boolean},selectedChest:{},chestEntries:{},availableChests:{}},emits:["close","confirm-rename","confirm-delete"],setup(e,{emit:n}){const t=e,a=n,r=P(!1),s=P(!1),i=P(!1),l=P(""),u=P(""),m=P(!1),c=B(()=>t.chestEntries.reduce((p,y)=>p+y.quantity,0)),f=B(()=>t.chestEntries.length),g=B(()=>t.availableChests.filter(p=>{var y;return p._id!==((y=t.selectedChest)==null?void 0:y._id)})),b=p=>{if(!p)return"";try{return _c(new Date(p),"dd MMMM yyyy",{locale:Zc})}catch{return p}},h=async()=>{var p;if(!(!l.value.trim()||l.value.trim()===((p=t.selectedChest)==null?void 0:p.name))){m.value=!0;try{await a("confirm-rename",l.value.trim()),r.value=!1,l.value="",a("close")}catch(y){console.error("Erreur lors du renommage:",y)}finally{m.value=!1}}},_=async()=>{m.value=!0;try{await a("confirm-delete",{confirmed:!0}),a("close")}catch(p){console.error("Erreur lors de la suppression:",p)}finally{m.value=!1}},C=async()=>{if(!u.value){alert("Veuillez sélectionner un coffre de destination.");return}m.value=!0;try{await a("confirm-delete",{migrateTo:u.value,confirmed:!0}),a("close")}catch(p){console.error("Erreur lors de la migration et suppression:",p)}finally{m.value=!1}},x=async()=>{if(confirm(`⚠️ ATTENTION: Cette action est IRRÉVERSIBLE !

Tous les ${c.value} items de ce coffre seront définitivement perdus.

Voulez-vous vraiment continuer ?`)){m.value=!0;try{await a("confirm-delete",{confirmed:!0}),a("close")}catch(p){console.error("Erreur lors de la suppression forcée:",p)}finally{m.value=!1}}};return ge(()=>t.isVisible,p=>{var y;p&&(r.value=!1,s.value=!1,i.value=!1,l.value=((y=t.selectedChest)==null?void 0:y.name)||"",u.value="")}),ge(()=>t.selectedChest,p=>{p&&(l.value=p.name||"")}),(p,y)=>{var v,V,G;const T=ze,S=kt,O=St;return w(),D(Ir,{to:"body"},[p.isVisible?(w(),I("div",{key:0,class:"fixed inset-0 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:y[10]||(y[10]=$e(M=>p.$emit("close"),["self"]))},[d("div",ef,[y[28]||(y[28]=d("div",{class:"bar-copper mb-4"},null,-1)),d("div",tf,[d("div",nf,[q(T,{name:"i-mdi-package-variant-closed",class:"w-12 h-12 text-[rgba(122,28,28,0.6)]"})]),d("div",af,[d("h3",rf,F((v=p.selectedChest)==null?void 0:v.name),1),d("div",sf,[d("span",of,F(o(c))+" items",1),d("span",lf,F(o(f))+" slots utilisés",1)]),d("p",uf," Créé le "+F(b((V=p.selectedChest)==null?void 0:V.createdAt)),1)]),q(S,{onClick:y[0]||(y[0]=M=>p.$emit("close")),icon:"i-mdi-close",color:"gray",variant:"ghost",size:"sm",class:"flex-shrink-0"})]),d("div",df,[q(S,{onClick:y[1]||(y[1]=M=>r.value=!0),icon:"i-mdi-pencil",color:"yellow",variant:"outline",size:"lg",class:"h-20 flex-col gap-2"},{default:k(()=>[...y[11]||(y[11]=[d("span",{class:"font-semibold"},"Renommer",-1),d("span",{class:"text-xs opacity-75"},"Changer le nom",-1)])]),_:1}),q(S,{onClick:y[2]||(y[2]=M=>s.value=!0),icon:"i-mdi-delete",color:"red",variant:"outline",size:"lg",class:"h-20 flex-col gap-2"},{default:k(()=>[...y[12]||(y[12]=[d("span",{class:"font-semibold"},"Supprimer",-1),d("span",{class:"text-xs opacity-75"},"Supprimer le coffre",-1)])]),_:1})]),o(r)?(w(),I("div",cf,[d("h4",ff,[q(T,{name:"i-mdi-pencil",class:"w-5 h-5 text-yellow-500"}),y[13]||(y[13]=N(" Renommer le coffre ",-1))]),d("div",mf,[q(O,{modelValue:o(l),"onUpdate:modelValue":y[3]||(y[3]=M=>Re(l)?l.value=M:null),placeholder:"Nouveau nom du coffre...",maxlength:50,onKeyup:be(h,["enter"]),autofocus:""},null,8,["modelValue"]),d("p",pf,F(o(l).length)+"/50 caractères",1),d("div",gf,[q(S,{onClick:h,disabled:!o(l).trim()||o(l).trim()===((G=p.selectedChest)==null?void 0:G.name),color:"yellow",variant:"solid",class:"flex-1",loading:o(m)},{default:k(()=>[...y[14]||(y[14]=[N(" Renommer ",-1)])]),_:1},8,["disabled","loading"]),q(S,{onClick:y[4]||(y[4]=M=>r.value=!1),variant:"outline",color:"gray",class:"flex-1"},{default:k(()=>[...y[15]||(y[15]=[N(" Annuler ",-1)])]),_:1})])])])):j("",!0),o(s)?(w(),I("div",vf,[d("h4",hf,[q(T,{name:"i-mdi-delete",class:"w-5 h-5 text-red-500"}),y[16]||(y[16]=N(" Supprimer le coffre ",-1))]),o(c)===0?(w(),I("div",yf,[d("div",bf,[d("div",wf,[q(T,{name:"i-mdi-check-circle",class:"w-5 h-5 text-green-500 mt-0.5"}),y[17]||(y[17]=d("div",null,[d("h5",{class:"font-medium text-green-800 dark:text-green-200"},"Coffre vide"),d("p",{class:"text-sm text-green-700 dark:text-green-300 mt-1"}," Ce coffre ne contient aucun item. Il peut être supprimé sans risque. ")],-1))])]),d("div",xf,[q(S,{onClick:_,color:"red",variant:"solid",class:"flex-1",loading:o(m)},{default:k(()=>[...y[18]||(y[18]=[N(" Supprimer définitivement ",-1)])]),_:1},8,["loading"]),q(S,{onClick:y[5]||(y[5]=M=>s.value=!1),variant:"outline",color:"gray",class:"flex-1"},{default:k(()=>[...y[19]||(y[19]=[N(" Annuler ",-1)])]),_:1})])])):(w(),I("div",_f,[d("div",Cf,[d("div",kf,[q(T,{name:"i-mdi-alert-circle",class:"w-5 h-5 text-red-500 mt-0.5"}),d("div",null,[y[20]||(y[20]=d("h5",{class:"font-medium text-red-800 dark:text-red-200"},"Attention",-1)),d("p",Sf," Ce coffre contient "+F(o(c))+" items. Choisissez comment procéder : ",1)])])]),d("div",qf,[o(i)?(w(),I("div",$f,[y[24]||(y[24]=d("label",{class:"block text-sm font-medium text-blue-800 dark:text-blue-200 mb-2"}," Sélectionner le coffre de destination : ",-1)),Pr(d("select",{"onUpdate:modelValue":y[6]||(y[6]=M=>Re(u)?u.value=M:null),class:"w-full px-3 py-2 bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-md text-sm"},[y[21]||(y[21]=d("option",{value:""},"Choisir un coffre...",-1)),(w(!0),I(ye,null,Ae(o(g),M=>(w(),I("option",{key:M._id,value:M._id},F(M.name)+" ("+F(M.entries||0)+" items) ",9,Of))),128))],512),[[Ar,o(u)]]),d("div",Ef,[q(S,{onClick:C,disabled:!o(u),color:"blue",variant:"solid",size:"sm",loading:o(m),class:"flex-1"},{default:k(()=>[...y[22]||(y[22]=[N(" Migrer vers ce coffre ",-1)])]),_:1},8,["disabled","loading"]),q(S,{onClick:y[7]||(y[7]=M=>i.value=!1),variant:"outline",color:"gray",size:"sm"},{default:k(()=>[...y[23]||(y[23]=[N(" Annuler ",-1)])]),_:1})])])):(w(),I("div",Pf,[q(S,{onClick:y[8]||(y[8]=M=>i.value=!0),icon:"i-mdi-package-variant-closed",color:"blue",variant:"outline",class:"h-16 flex-col gap-1"},{default:k(()=>[...y[25]||(y[25]=[d("span",{class:"font-medium"},"Migrer les items",-1),d("span",{class:"text-xs"},"Vers un autre coffre",-1)])]),_:1}),q(S,{onClick:x,icon:"i-mdi-delete-forever",color:"red",variant:"solid",class:"h-16 flex-col gap-1",loading:o(m)},{default:k(()=>[...y[26]||(y[26]=[d("span",{class:"font-medium"},"Supprimer tout",-1),d("span",{class:"text-xs"},"Items perdus",-1)])]),_:1},8,["loading"])]))]),q(S,{onClick:y[9]||(y[9]=M=>s.value=!1),variant:"outline",color:"gray",class:"w-full"},{default:k(()=>[...y[27]||(y[27]=[N(" Annuler ",-1)])]),_:1})]))])):j("",!0)])])):j("",!0)])}}}),If={key:0,class:"min-h-screen flex items-center justify-center"},Df={class:"text-center"},Mf={key:1,class:"min-h-screen flex items-center justify-center p-4"},Tf={class:"text-center"},Bf={key:2,class:"min-h-screen"},Ff={key:0,class:"fixed top-4 right-4 z-50 max-w-sm"},Lf={class:"flex-1 min-w-0"},Rf={class:"font-semibold text-sm"},zf={class:"text-sm opacity-90 mt-1"},Vf={class:"container mx-auto px-4 py-8"},Wf={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},jf={class:"lg:col-span-1 space-y-6"},Nf={class:"lg:col-span-2"},Hf={class:"flex items-center justify-between"},Kf={class:"text-lg font-semibold flex items-center gap-2 text-white"},Yf={class:"mt-6"},Uf={class:"tooltip-surface p-6 max-w-md w-full max-h-[80vh] overflow-y-auto"},Gf={class:"flex items-start gap-4 mb-6"},Qf={class:"w-20 h-20 bg-[rgba(12,14,20,0.35)] rounded-lg flex items-center justify-center ring-1 ring-[rgba(255,255,255,0.06)] flex-shrink-0"},Xf={class:"space-y-4"},Jf={class:"space-y-2"},Zf={key:0,class:"text-sm text-red-400"},em={class:"flex gap-3 justify-end pt-4 border-t border-blood-800/30"},qe="http://localhost:4000/api",tm="http://localhost:4000/images",zt=32,om=X({__name:"chests",setup(e){const n=P(null);console.log("🔧 Configuration API:",{apiBase:qe,imagesBase:tm,nodeEnv:"production",hostname:typeof window<"u"?window.location.hostname:"server-side",port:typeof window<"u"?window.location.port:"server-side"});const t=P(!0),a=P([]),r=P(""),s=P([]),i=P(null),l=B(()=>i.value!=null?s.value[i.value]:null),u=P(!1),m=P(null),c=B(()=>a.value.find($=>$._id===r.value)),f=P(!1),g=P({show:!1,type:"success",title:"",message:"",icon:""}),b=P(""),h=P(void 0),_=P([]),C=P(null);P(-1);const x=P(!1),p=P(!1),y=P(0),T=P(1),S=P(!1),O=P(null),v=P(1),V=B(()=>Math.ceil(s.value.length/zt)),G=B(()=>{const $=(v.value-1)*zt,E=$+zt,le=[...s.value.slice($,E)];for(;le.length<zt;)le.push(null);return le}),M=B(()=>{var $;return(($=a.value.find(E=>E._id===r.value))==null?void 0:$.name)||""});B(()=>!!r.value&&(!!h.value||!!C.value||_.value.length>0));function A($){var le;let E="Coffre supprimé avec succès",H="Le coffre a été supprimé.";$.migratedTo&&((le=$.migration)!=null&&le.targetChest)?(E="Migration réussie !",H=`${$.migration.itemCount} items ont été migrés vers "${$.migration.targetChest.name}".`):$.deleted&&$.deleted.name&&(H=`Le coffre "${$.deleted.name}" a été supprimé.`),g.value={show:!0,type:"success",title:E,message:H,icon:"i-mdi-check-circle"},setTimeout(()=>{g.value.show=!1},5e3)}const Y=B(()=>!!(l.value&&T.value!==l.value.quantity));async function se(){const $=await fetch(`${qe}/chests`,{credentials:"include"});$.ok?(a.value=await $.json(),de()):console.error("Erreur fetchChests:",$.status)}async function U($){r.value!==$&&(r.value=$,i.value=null,await re())}async function re(){if(!r.value||r.value===""){s.value=[];return}const $=await fetch(`${qe}/chests/${r.value}/items`,{credentials:"include"});if($.ok){const E=await $.json();s.value=E.items||[]}else console.error("Erreur fetchChestItems:",$.status)}function de(){a.value.length>0&&(!r.value||r.value==="")&&(r.value=a.value[0]._id)}function Q($){C.value=$||null,h.value=($==null?void 0:$._id)??void 0,b.value=($==null?void 0:$.nom)||"",_.value=[]}async function te($){var le;if(!r.value)return;const E={inc:$};if(C.value&&C.value._id)E.itemMongoId=C.value._id;else if(_.value.length)E.itemMongoId=(le=_.value[0])==null?void 0:le._id;else if(h.value)E.itemMongoId=h.value;else{console.warn("Aucun item à ajouter - aucune option disponible");return}const H=await fetch(`${qe}/chests/${r.value}/move`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(E)});H.ok?await re():console.error("Erreur:",H.status)}async function z($,E){try{C.value=$,h.value=$._id,await te(E);const H=Te($._id);H!==-1&&n.value&&(n.value.markItemAsNew($._id,H),console.log(`✨ Animation déclenchée pour l'item "${$.nom}" à l'emplacement ${H}`)),b.value="",_.value=[],C.value=null,h.value=void 0,console.log(`✅ Item "${$.nom}" ajouté avec quantité ${E}`)}catch(H){console.error("Erreur lors de l'ajout avec quantité:",H)}}function Te($){const E=G.value;for(let H=0;H<E.length;H++){const le=E[H];if(le&&le.item&&le.item._id===$)return H}return-1}function _e($,E){n.value&&n.value.markItemAsNew($,E)}async function Ce($,E){if(!(!r.value||!$||!$.item))try{const H={itemMongoId:$.item._id,inc:-$.quantity},le=await fetch(`${qe}/chests/${r.value}/move`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(H)});le.ok?(await re(),Qe(),console.log("Item supprimé avec succès")):console.error("Erreur lors de la suppression:",le.status)}catch(H){console.error("Erreur lors de la suppression:",H)}}function Ee($){Array.isArray($)?_.value=$:Q($)}function rt($,E){if(!$||!$.item){i.value=null;return}const H=i.value===E?null:E;i.value=H}function Qe(){i.value=null,y.value=0}async function Xe($){var le;if(!l.value||!r.value||$<1)return;const E=l.value.quantity||1,H=$-E;if(H!==0){x.value=!0;try{const W={inc:H};l.value.itemId!=null?W.itemId=l.value.itemId:((le=l.value.item)==null?void 0:le.id)!=null?W.itemId=l.value.item.id:l.value.itemMongoId&&(W.itemMongoId=l.value.itemMongoId);const Be=await fetch(`${qe}/chests/${r.value}/move`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(W)});Be.ok?(await re(),T.value=$,y.value=2,p.value=!0,setTimeout(()=>{p.value=!1,y.value=3,setTimeout(()=>{y.value=0,Qe()},500)},1e3)):(console.error("Erreur setItemQuantity:",Be.status),y.value=0)}catch(W){console.error("Erreur lors de la sauvegarde:",W),y.value=0}finally{x.value=!1}}}async function L($){if(!l.value)return;const E=l.value.quantity||1,H=Math.max(1,E+$);await Xe(H)}const J=P(!1),Z=P(""),ue=P(!1),me=P("");async function fe(){J.value=!0,Z.value="",me.value=""}async function K(){const $=Z.value.trim();if(!$){me.value="Le nom du coffre est requis";return}ue.value=!0,me.value="";try{const E=await fetch(`${qe}/chests`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({name:$})});if(E.ok)await se(),await re(),J.value=!1,Z.value="",console.log(`✅ Coffre "${$}" créé avec succès`);else{const H=await E.json();me.value=`Erreur: ${H.error||"Erreur inconnue"}`}}catch(E){console.error("Erreur createChest:",E),me.value="Erreur lors de la création du coffre"}finally{ue.value=!1}}function ne(){J.value=!1,Z.value="",me.value=""}function oe($){$&&(r.value=$,f.value=!0)}async function ke($){if(!(!r.value||!$.trim()))try{const E=await fetch(`${qe}/chests/${r.value}/rename`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({newName:$.trim()})});if(E.ok){await se();const H=a.value.find(le=>le.name===$.trim());H&&(r.value=H._id,await re())}else{const H=await E.json().catch(()=>({}));throw new Error(H.error||"Erreur lors du renommage")}}catch(E){console.error("Erreur lors du renommage du coffre:",E),alert(`Erreur lors du renommage: ${E.message}`)}}async function ve($){if(r.value)try{const E=await fetch(`${qe}/chests/${r.value}`,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify($)});if(E.ok){const H=await E.json();r.value===r.value&&(r.value="",i.value=null,s.value=[]),await se(),A(H)}else{const H=await E.json().catch(()=>({}));throw new Error(H.error||"Erreur lors de la suppression")}}catch(E){console.error("Erreur lors de la suppression du coffre:",E),alert(`Erreur lors de la suppression: ${E.message}`)}}ge(l,$=>{$&&(T.value=$.quantity||1)});async function st(){try{const $=await fetch(`${qe}/auth/me`,{credentials:"include"});if($.ok){const E=await $.json();O.value=E,S.value=!0}else S.value=!1,O.value=null}catch($){console.error("Erreur vérification auth:",$),S.value=!1,O.value=null}}async function ot(){try{const $=await fetch(`${qe}/auth/discord`,{credentials:"include"});if($.ok){const{authUrl:E}=await $.json();window.location.href=E}else console.error("Erreur connexion Discord")}catch($){console.error("Erreur connexion Discord:",$)}}async function he(){console.log("🔄 Début de la déconnexion...");try{console.log("📡 Appel API de déconnexion...");const $=await fetch(`${qe}/auth/logout`,{method:"POST",credentials:"include"});console.log("📡 Réponse API:",$.status,$.statusText),$.ok?console.log("✅ Déconnexion côté serveur réussie"):console.error("❌ Erreur côté serveur:",$.status)}catch($){console.error("❌ Erreur réseau lors de la déconnexion:",$)}finally{console.log("🔄 Réinitialisation de l'état local..."),O.value=null,S.value=!1,a.value=[],s.value=[],r.value="",i.value=null,t.value=!1,console.log("🔄 Rechargement de la page..."),window.location.reload()}}return Oe(async()=>{await st(),S.value?(await new Promise($=>setTimeout($,500)),await se(),await re(),setTimeout(()=>{t.value=!1},200)):setTimeout(()=>{t.value=!1},200)}),($,E)=>{const H=ze,le=Gt,W=kt,Be=Br,Mt=St;return o(t)?(w(),I("div",If,[q(le,{class:"w-full max-w-md"},{default:k(()=>[d("div",Df,[q(H,{name:"i-mdi-loading",class:"w-16 h-16 mx-auto mb-4 animate-spin text-blue-500"}),E[6]||(E[6]=d("h2",{class:"text-xl font-semibold mb-2"},"Initialisation...",-1)),E[7]||(E[7]=d("p",{class:"text-sm text-gray-500 dark:text-gray-400"},"Préparation de l'application",-1))])]),_:1})])):o(S)?(w(),I("div",Bf,[q(Tr,{user:o(O),onLogout:he},null,8,["user"]),q(Dr,{"enter-active-class":"transition-all duration-300 ease-out","enter-from-class":"opacity-0 transform translate-y-2","enter-to-class":"opacity-100 transform translate-y-0","leave-active-class":"transition-all duration-200 ease-in","leave-from-class":"opacity-0 transform -translate-y-2","leave-to-class":"opacity-100 transform translate-y-0"},{default:k(()=>[o(g).show?(w(),I("div",Ff,[d("div",{class:ae(["flex items-start gap-3 p-4 rounded-lg shadow-lg border backdrop-blur-sm",{"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800 text-green-800 dark:text-green-200":o(g).type==="success","bg-red-50 dark:bg-red-900/20 border-red-200 dark:border-red-800 text-red-800 dark:text-red-200":o(g).type==="error","bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800 text-blue-800 dark:text-blue-200":o(g).type==="info"}])},[o(g).icon?(w(),D(H,{key:0,name:o(g).icon,class:"w-5 h-5 mt-0.5 flex-shrink-0"},null,8,["name"])):j("",!0),d("div",Lf,[d("h4",Rf,F(o(g).title),1),d("p",zf,F(o(g).message),1)]),d("button",{onClick:E[0]||(E[0]=Se=>o(g).show=!1),class:"flex-shrink-0 p-1 hover:bg-black/10 rounded transition-colors"},[q(H,{name:"i-mdi-close",class:"w-4 h-4"})])],2)])):j("",!0)]),_:1}),d("main",Vf,[d("div",Wf,[d("div",jf,[q(tl,{chests:o(a),"selected-chest-id":o(r),"chest-entries":o(s),onChestSelected:U,onCreateChest:fe,onManageChest:oe},null,8,["chests","selected-chest-id","chest-entries"]),q(Dl,{query:o(b),"picker-options":o(_),"selected-chest-id":o(r),"picker-item-id":o(h),"selected-pick":o(C),onQueryChanged:E[1]||(E[1]=Se=>b.value=Se),onOptionSelected:Ee,onDepositWithQuantity:z},null,8,["query","picker-options","selected-chest-id","picker-item-id","selected-pick"])]),d("div",Nf,[q(le,{class:"brushed ring-blood"},{header:k(()=>[d("div",Hf,[d("h3",Kf,[q(H,{name:"i-mdi-grid",class:"w-5 h-5 text-blood-400"}),N(" "+F(o(r)?`${o(M)}`:"Sélectionnez un coffre"),1)]),q(Be,{variant:"soft",color:"blood",class:"badge-blood text-base px-3 py-1 font-semibold tracking-wide"},{default:k(()=>[q(H,{name:"i-mdi-treasure-chest",class:"w-4 h-4 mr-2"}),N(" "+F(o(a).length)+" coffre"+F(o(a).length>1?"s":""),1)]),_:1})])]),_:1}),d("div",Yf,[q(Du,{"chest-slots":o(G),"selected-chest-id":o(r),"selected-chest-name":o(M),"chest-entries":o(s),"selected-entry-idx":o(i),"edit-quantity":o(T),"quantity-changed":o(Y),"quantity-loading":o(x),"quantity-recently-changed":o(p),"save-animation-step":o(y),"current-page":o(v),"total-pages":o(V),onSlotClicked:rt,onMarkNewItem:_e,ref_key:"inventoryGridRef",ref:n,onItemDetailsClosed:Qe,onQuantityChanged:Xe,onAdjustQuantity:L,onPageChanged:E[2]||(E[2]=Se=>v.value=Se),onRemoveItem:Ce},null,8,["chest-slots","selected-chest-id","selected-chest-name","chest-entries","selected-entry-idx","edit-quantity","quantity-changed","quantity-loading","quantity-recently-changed","save-animation-step","current-page","total-pages"])])])]),q(Af,{"is-visible":o(f),"selected-chest":o(c),"chest-entries":o(s),"available-chests":o(a),onClose:E[3]||(E[3]=Se=>f.value=!1),onConfirmRename:ke,onConfirmDelete:ve},null,8,["is-visible","selected-chest","chest-entries","available-chests"]),q(hd,{modelValue:o(u),"onUpdate:modelValue":E[4]||(E[4]=Se=>Re(u)?u.value=Se:null),mode:o(m),"selected-chest":o(c),"selected-chest-entries":o(s),"available-chests":o(a),onConfirmRename:ke,onConfirmDelete:ve},null,8,["modelValue","mode","selected-chest","selected-chest-entries","available-chests"]),o(J)?(w(),I("div",{key:0,class:"fixed inset-0 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:$e(ne,["self"])},[d("div",Uf,[E[15]||(E[15]=d("div",{class:"bar-copper mb-4"},null,-1)),d("div",Gf,[d("div",Qf,[q(H,{name:"i-mdi-plus-circle",class:"w-12 h-12 text-blood-400"})]),E[10]||(E[10]=d("div",{class:"flex-1 min-w-0"},[d("h3",{class:"text-xl font-bold text-white mb-2"},"Nouveau coffre"),d("p",{class:"text-sm text-gray-400"}," Créez un nouveau coffre pour organiser vos items ")],-1)),q(W,{onClick:ne,icon:"i-mdi-close",color:"gray",variant:"ghost",size:"sm",class:"flex-shrink-0"})]),d("div",Xf,[d("div",Jf,[E[11]||(E[11]=d("label",{class:"block text-sm font-medium text-gray-300"},[N(" Nom du coffre "),d("span",{class:"text-red-400"},"*")],-1)),q(Mt,{modelValue:o(Z),"onUpdate:modelValue":E[5]||(E[5]=Se=>Re(Z)?Z.value=Se:null),placeholder:"Ex: Coffre des trésors, Armurerie...",icon:"i-mdi-crown",size:"lg",autofocus:"",onKeyup:be(K,["enter"]),class:ae(["copper-outline",{"ring-2 ring-red-500":o(me)}])},null,8,["modelValue","class"]),E[12]||(E[12]=d("p",{class:"text-sm text-gray-400"}," Choisissez un nom descriptif pour votre coffre ",-1)),o(me)?(w(),I("p",Zf,F(o(me)),1)):j("",!0)]),d("div",em,[q(W,{onClick:ne,variant:"outline",color:"gray",size:"lg",disabled:o(ue)},{default:k(()=>[...E[13]||(E[13]=[N(" Annuler ",-1)])]),_:1},8,["disabled"]),q(W,{onClick:K,disabled:!o(Z).trim()||o(ue),loading:o(ue),color:"red",variant:"solid",size:"lg",class:"copper-outline"},{default:k(()=>[q(H,{name:"i-mdi-check",class:"w-4 h-4 mr-2"}),E[14]||(E[14]=N(" Créer le coffre ",-1))]),_:1},8,["disabled","loading"])])])])])):j("",!0)])])):(w(),I("div",Mf,[q(le,{class:"w-full max-w-md"},{header:k(()=>[...E[8]||(E[8]=[d("div",{class:"text-center"},[d("div",{class:"w-16 h-16 mx-auto mb-4 text-blue-500 text-6xl"},"🛡️"),d("h1",{class:"text-2xl font-bold text-gray-900 dark:text-white"}," Connexion Requise "),d("p",{class:"text-sm text-gray-500 dark:text-gray-400 mt-2"}," Connectez-vous avec Discord pour accéder à la gestion des coffres ")],-1)])]),default:k(()=>[d("div",Tf,[q(W,{onClick:ot,icon:"i-mdi-chat",color:"gray",variant:"solid",size:"lg",class:"w-full"},{default:k(()=>[...E[9]||(E[9]=[N(" Se connecter avec Discord ",-1)])]),_:1})])]),_:1})]))}}});export{om as default};
